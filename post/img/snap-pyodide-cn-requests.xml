<project name="snap-pyodide-cn-requests" app="Snap! 10-dev, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,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</thumbnail><scenes select="1"><scene name="snap-pyodide-cn-requests"><notes></notes><palette><category name="Python function" color="98,194,19,1"/></palette><hidden></hidden><headers></headers><code></code><blocks><block-definition s="_load Pyodide" type="command" category="Python function" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://scratch3-files.just4fun.site/pyodide/v0.25.1/full/pyodide.js</l></list></block><block s="doRun"><block s="reportJSFunction"><list></list><l>if (window.pyodide){return}&#xD;&#xD;(async () =&gt; {&#xD;  let pyodide = await loadPyodide();&#xD;  await pyodide.loadPackage("micropip");&#xD;  window._pyodide_micropip = pyodide.pyimport("micropip");&#xD;  window.pyodide = pyodide;&#xD;  if (!window._pyodide_packages){window._pyodide_packages=[]}&#xD;})();</l></block><list></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return window.pyodide != null;</l></block><list></list></block></block><custom-block s="_patch"></custom-block></script></block-definition><block-definition s="_patch" type="command" category="Python function" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>function js_to_snap_list(js_list){&#xD;  if (Array.isArray(js_list)) {&#xD;    return new List(js_list.map(i =&gt; js_to_snap_list(i)))&#xD;  } else {&#xD;    return js_list&#xD;  }&#xD;}&#xD;&#xD;function snap_to_js_list(snap_list){&#xD;  if (snap_list instanceof(List)) {&#xD;    return (snap_list.map(i =&gt; snap_to_js_list(i)).asArray())&#xD;  } else {&#xD;    return snap_list&#xD;  }&#xD;}&#xD;&#xD;function py_to_snap_list(py_list){&#xD;  let js_list = py_list.toJs()&#xD;  return js_to_snap_list(js_list)&#xD;}&#xD;&#xD;function snap_to_py_list(snap_list){&#xD;  let js_list = snap_to_js_list(snap_list)&#xD;  return pyodide.toPy(js_list)&#xD;}&#xD;&#xD;window.snap_to_py_list = snap_to_py_list&#xD;window.py_to_snap_list = py_to_snap_list</l></block><list></list></block></script></block-definition><block-definition s="load package %&apos;package&apos;" type="command" category="Python function"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">numpy</input></inputs><script><custom-block s="_load Pyodide"></custom-block><block s="doRun"><block s="reportJSFunction"><list><l>package</l></list><l>if (window._pyodide_packages.includes(package)){return}&#xD;(async () =&gt; {&#xD;  // https://pyodide.org/en/stable/usage/loading-packages.html&#xD;  // let pyodide = await loadPyodide(package);&#xD;  await window._pyodide_micropip.install(package);&#xD;  // await pyodide.loadPackage(package);&#xD;  window._pyodide_packages.push(package);&#xD;})();</l></block><list><block var="package"/></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l>package</l></list><l>return window._pyodide_packages.includes(package)</l></block><list><block var="package"/></list></block></block></script></block-definition><block-definition s="Python function( %&apos;args&apos; ){ %&apos;code&apos; }" type="reporter" category="Python function"><header></header><code></code><translations></translations><inputs><input type="%mult%s" initial="1"></input><input type="%mlt" initial="1"></input></inputs><script><block s="doSetVar"><l>code</l><block s="reportListAttribute"><l><option>lines</option></l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><l>    </l><l></l></list></block></autolambda><list></list></block><block s="reportTextSplit"><block var="code"/><l><option>line</option></l></block></block></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>py_args</l><l>py_body</l></list><l>let code = `&#xD;def anonymous(${py_args.itemsArray().join(", ")}):&#xD;${py_body}&#xD;`&#xD;return code</l></block><list><block var="args"/><block var="code"/></list></block></block></script></block-definition><block-definition s="Python run %&apos;py_function&apos; %&apos;args&apos;" type="command" category="Python function"><header></header><code></code><translations></translations><inputs><input type="%cmdRing" initial="1"></input><input type="%mult%s"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doSetVar"><l>result</l><custom-block s="Python call %cmdRing %mult%s"><block var="py_function"/><block var="args"/></custom-block></block></script></block-definition><block-definition s="Python call %&apos;py_function&apos; %&apos;args&apos;" type="reporter" category="Python function"><header></header><code></code><translations></translations><inputs><input type="%cmdRing" initial="1"></input><input type="%mult%s"></input></inputs><script><custom-block s="_load Pyodide"></custom-block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>py_function</l><l>args</l></list><l>args_ = args.itemsArray(); // 不处理第二层, 参数不能是 list&#xD;// console.log(args_)&#xD;let code = `&#xD;import pyodide&#xD;from js import args_&#xD;${py_function}&#xD;&#xD;anonymous(*args_)&#xD;`&#xD;let result = pyodide.runPython(code);&#xD;// console.log(result);&#xD;return result</l></block><list><block var="py_function"/><block var="args"/></list></block></block></script></block-definition><block-definition s="examples" type="command" category="Python function"><header></header><code></code><translations></translations><inputs></inputs><scripts><script x="135.41666666666669" y="34.72222222222257"><custom-block s="load package %s"><l>numpy</l></custom-block></script><script x="57.8774509803921" y="74.08333333333331"><custom-block s="Python call %cmdRing %mult%s"><custom-block s="Python function( %mult%s ){ %mlt }"><list></list><l>import js&#xD;import numpy as np&#xD;a = np.arange(15).reshape((5, 3))&#xD;return js.window.py_to_snap_list(a.tolist())</l></custom-block><list></list></custom-block></script><script x="63.87745098039204" y="153.9166666666667"><custom-block s="Python call %cmdRing %mult%s"><custom-block s="Python function( %mult%s ){ %mlt }"><list><l>snap_list</l></list><l>import js&#xD;py_list = js.window.snap_to_py_list(snap_list)&#xD;py_list[3][1] = "Python"&#xD;return  js.window.py_to_snap_list(py_list)</l></custom-block><list><block s="reportNewList"><list><l>1</l><l>2</l><l>3</l><block s="reportNewList"><list><l>a</l><l>b</l><l>3</l><block s="reportNewList"><list><l>hello</l></list></block></list></block></list></block></list></custom-block></script><script x="62.46903147977946" y="271.8472222222222"><custom-block s="load package %s"><l>numpy</l></custom-block><custom-block s="load package %s"><l>opencv-python</l></custom-block><block s="doSetVar"><l>test</l><block s="reportApplyExtension"><l>elite_object2base64(obj)</l><list><block s="reportVideo"><l><option>snap</option></l><l>舞台</l></block></list></block></block><block s="doSetVar"><l>result</l><custom-block s="Python call %cmdRing %mult%s"><custom-block s="Python function( %mult%s ){ %mlt }"><list><l>mybase64string</l></list><l>import cv2&#xD;import numpy as np&#xD;import base64&#xD;&#xD;def base64_to_image(base64_string):&#xD;    # 移除前缀&#xD;    base64_string = base64_string.split(&apos;,&apos;)[1]&#xD;&#xD;    # 将 base64 字符串解码为图像数据&#xD;    img_data = base64.b64decode(base64_string)&#xD;&#xD;    # 将图像数据转换为 numpy 数组&#xD;    nparr = np.frombuffer(img_data, np.uint8)&#xD;&#xD;    # 读取图像&#xD;    image = cv2.imdecode(nparr, cv2.IMREAD_COLOR)&#xD;&#xD;    return image&#xD;&#xD;def image_to_base64(image):&#xD;    # 将图像转换为灰度图像&#xD;    gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)&#xD;&#xD;    # 将灰度图像编码为 base64 字符串&#xD;    _, encoded_image = cv2.imencode(&apos;.png&apos;, gray_image)&#xD;    base64_string = base64.b64encode(encoded_image).decode()&#xD;&#xD;    return "data:image/png;base64," + base64_string&#xD;&#xD;# 输入的 base64 编码的图像数据&#xD;base64_data = mybase64string&#xD;&#xD;# 将 base64 编码的图像转换为图像&#xD;image = base64_to_image(base64_data)&#xD;&#xD;# 将图像转换为黑白图像，并将结果编码为 base64&#xD;result_base64 = image_to_base64(image)&#xD;&#xD;print(result_base64)&#xD;return result_base64</l></custom-block><list><block var="test"/></list></custom-block></block><block s="doSwitchToCostume"><block s="reportApplyExtension"><l>cst_from(url)</l><list><block var="test"/></list></block></block><block s="doSwitchToCostume"><block s="reportApplyExtension"><l>cst_from(url)</l><list><block var="result"/></list><comment w="90" collapsed="false">保存时，确保干净，不要用自定义 costume</comment></block></block></script></scripts></block-definition><block-definition s="load Pyodide" type="command" category="operators"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js</l></list></block><block s="doRun"><block s="reportJSFunction"><list></list><l>if (window.pyodide){return}&#xD;&#xD;(async () =&gt; {&#xD;  let pyodide = await loadPyodide();&#xD;  await pyodide.loadPackage("micropip");&#xD;  window._pyodide_micropip = pyodide.pyimport("micropip");&#xD;  window.pyodide = pyodide;&#xD;  if (!window._pyodide_packages){window._pyodide_packages=[]}&#xD;})();</l></block><list></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return window.pyodide != null;</l></block><list></list></block></block></script></block-definition></blocks><stage name="Stage" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="240"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAAAXNSR0IArs4c6QAADoVJREFUeF7t1cEJAAAIxDDdf2m3sJ+4wEEQuuMIECBAgACBd4F9XzRIgAABAgQIjAB7AgIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECByxcQFpoRMBzwAAAABJRU5ErkJggg==</pentrails><costumes><list struct="atomic" id="241"></list></costumes><sounds><list struct="atomic" id="242"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="Sprite" idx="1" x="-183.66218836807843" y="-118.85602473837778" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="247"><costumes><list struct="atomic" id="248"></list></costumes><sounds><list struct="atomic" id="249"></list></sounds><blocks></blocks><variables></variables><scripts><script x="8.500000000000014" y="102.94444444444447"><custom-block s="load package %s"><l>requests</l></custom-block><block s="bubble"><custom-block s="Python call %cmdRing %mult%s"><custom-block s="Python function( %mult%s ){ %mlt }"><list></list><l>import requests&#xD;return requests.get("https://wwj718.github.io").text</l></custom-block><list></list></custom-block></block></script><comment x="8.333333333333334" y="33.6111111111111" w="140" collapsed="false">enable JavaScript  extension</comment></scripts></sprite></sprites></stage><variables></variables></scene></scenes></project>