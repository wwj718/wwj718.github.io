<project name="snap-spline-demo" app="Snap! 10-dev, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAAAsdJREFUeF7t2zFqFGEAhuF/WEwCC2JlpyDpPMoS2AsIWyjew8Y7bC1sYe8tAiaCVcATaKVWKhuSgI2GVMNb5Jl2io9552GGKWba7/f74VAgKjABGJU3e10AQBDSAgCm+Y0DyEBaAMA0v3EAGUgLAJjmNw4gA2kBANP8xgFkIC0AYJrfOIAMpAUATPMbB5CBtACAaX7jADKQFgAwzW8cQAbSAgCm+Y3PBnCz2YzzT5/H2cdTlRW4tcBsAK8WDx4+H78evbgZ//NjvD75NrbbrduhwN8CswK8WpmevBljevBv8p+n48O7V2O1Wrkd97jA/ACfvv1v3meH78eXi7N7nN6lXz+g5vwtc3r8coyj45vSX3fj9/fzsVgslFdg/lfwcrkcu91urNdruRVoPkJ0V+CuArO+gu8ad14BABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1v/BIIhvyoQ05ZCAAAAABJRU5ErkJggg==</thumbnail><scenes select="1"><scene name="snap-spline-demo"><notes></notes><palette><category name="ü™ü iframe" color="0,116,143,1"/><category name="üü£ Spline" color="0,116,143,1"/><category name="üí¨dynatalk-over-postmessage" color="230,60,0,1"/></palette><hidden></hidden><headers></headers><code></code><blocks><block-definition s="ü™ü create id %&apos;id&apos; url %&apos;url&apos;" type="command" category="ü™ü iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input><input type="%s" initial="1"></input></inputs><script><custom-block s="ü™ü _load js/css"></custom-block><block s="doRun"><block s="reportJSFunction"><list><l>id</l><l>url</l></list><l>const iframe_container_id = `snap_iframe_container_${id}`;&#xD;const iframe_id = `snap_iframe_${id}`;&#xD;if (document.getElementById(iframe_container_id)) {&#xD;  return&#xD;}&#xD;&#xD;// ÂÆπÂô®: ÊéßÂà∂Â∞∫ÂØ∏Âíå‰ΩçÁΩÆ, resizable, draggable&#xD;let iframe_container = document.createElement(&apos;div&apos;);&#xD;iframe_container.id = iframe_container_id;&#xD;iframe_container.style.left = "30%";&#xD;iframe_container.style.top = "200px"&#xD;iframe_container.style.width = &apos;500px&apos;;&#xD;iframe_container.style.height = &apos;300px&apos;;&#xD;iframe_container.style.padding = &apos;1em&apos;;&#xD;iframe_container.className = &apos;ui-widget-content&apos;;&#xD;&#xD;// ÂàõÂª∫ &lt;button&gt; ÂÖÉÁ¥†&#xD;let close_button = document.createElement(&apos;button&apos;);&#xD;close_button.id = "close-iframe-resizable";&#xD;close_button.className = &apos;btn btn-x top-left&apos;;&#xD;close_button.textContent = &apos;x&apos;;&#xD;&#xD;// ÂàõÂª∫ &lt;iframe&gt; ÂÖÉÁ¥†&#xD;let iframe = document.createElement(&apos;iframe&apos;);&#xD;iframe.allow="geolocation; microphone; camera; bluetooth; serial";&#xD;iframe.src = url;&#xD;iframe.className = &apos;ui-widget-content&apos;;&#xD;iframe.id = iframe_id;&#xD;iframe.style.width = &apos;100%&apos;;&#xD;iframe.style.height = &apos;100%&apos;;&#xD;&#xD;iframe_container.appendChild(close_button);&#xD;iframe_container.appendChild(iframe);&#xD;document.body.appendChild(iframe_container);&#xD;&#xD;&#xD;$("#"+iframe_container_id).resizable({ helper: "ui-resizable-helper" }).draggable();;&#xD;close_button.onclick = () =&gt; {&#xD;  // const div = document.getElementById("iframe_container");&#xD;  iframe_container.style.display = "none";&#xD;}</l></block><list><block var="id"/><block var="url"/></list></block></script></block-definition><block-definition s="ü™ü set id %&apos;id&apos; width %&apos;width&apos; height %&apos;height&apos; left %&apos;left&apos; top %&apos;top&apos;" type="command" category="ü™ü iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input><input type="%s" initial="1">500px</input><input type="%s" initial="1">300px</input><input type="%s" initial="1">30%</input><input type="%s" initial="1">200px</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>id</l><l>width</l><l>height</l><l>left</l><l>top</l></list><l>const iframe_container_id = `snap_iframe_container_${id}`;&#xD;let iframe_container = document.getElementById(iframe_container_id);&#xD;if (iframe_container){&#xD;  iframe_container.style.width = width;&#xD;  iframe_container.style.height = height;&#xD;  iframe_container.style.left = left;&#xD;  iframe_container.style.top = top;&#xD;}</l></block><list><block var="id"/><block var="width"/><block var="height"/><block var="left"/><block var="top"/></list></block></script></block-definition><block-definition s="ü™ü hide id %&apos;id&apos;" type="command" category="ü™ü iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>id</l></list><l>const iframe_container_id = `snap_iframe_container_${id}`;&#xD;let iframe_container = document.getElementById(iframe_container_id);&#xD;if (iframe_container){iframe_container.style.display = &apos;none&apos;}</l></block><list><block var="id"/></list></block></script></block-definition><block-definition s="ü™ü show id %&apos;id&apos;" type="command" category="ü™ü iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>id</l></list><l>const iframe_container_id = `snap_iframe_container_${id}`;&#xD;let iframe_container = document.getElementById(iframe_container_id);&#xD;if (iframe_container){iframe_container.style.display = &apos;block&apos;}</l></block><list><block var="id"/></list></block></script></block-definition><block-definition s="ü™ü delete id %&apos;id&apos;" type="command" category="ü™ü iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>id</l></list><l>const iframe_container_id = `snap_iframe_container_${id}`;&#xD;let iframe_container = document.getElementById(iframe_container_id);&#xD;if (iframe_container){iframe_container.remove()}</l></block><list><block var="id"/></list></block></script></block-definition><block-definition s="ü™üpostMessage id %&apos;id&apos; msg %&apos;msg&apos;" type="command" category="ü™ü iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input><input type="%mlt" initial="1"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>id</l><l>msg</l></list><l>const iframe_id = `snap_iframe_${id}`;&#xD;let iframe = document.getElementById(iframe_id);&#xD;if (iframe){&#xD;  iframe.contentWindow.postMessage(msg, &apos;*&apos;);&#xD;}</l></block><list><block var="id"/><block var="msg"/></list></block></script></block-definition><block-definition s="ü™ü set attribute %&apos;attribute&apos; to %&apos;value&apos;" type="command" category="ü™ü iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>attribute</l><l>value</l></list><l>let iframe_resizable = document.getElementById(&apos;myiframe&apos;)&#xD;if (iframe_resizable){iframe_resizable[attribute] = value }</l></block><list><block var="attribute"/><block var="value"/></list></block></script></block-definition><block-definition s="üü£ open world url %&apos;url&apos;" type="command" category="üü£ Spline"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><custom-block s="ü™ü create id %s url %s"><l>SplineWorld</l><block var="url"/></custom-block></script></block-definition><block-definition s="üü£ %&apos;x&apos; world" type="command" category="üü£ Spline"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true" initial="1">show<options>show&#xD;hide&#xD;delete</options></input></inputs><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="x"/><l>show</l></list></block><script><custom-block s="ü™ü show id %s"><l>SplineWorld</l></custom-block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="x"/><l>hide</l></list></block><script><custom-block s="ü™ü hide id %s"><l>SplineWorld</l></custom-block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="x"/><l>delete</l></list></block><script><custom-block s="ü™ü delete id %s"><l>SplineWorld</l></custom-block></script><list></list></block></script></block-definition><block-definition s="üü£ tell %&apos;name&apos; to turn $turnLeft %&apos;degrees&apos; degrees $nl duration %&apos;duration&apos; s" type="command" category="üü£ Spline"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">pig</input><input type="%s" initial="1">90</input><input type="%n" initial="1">1</input></inputs><script><block s="doDeclareVariables"><list><l>end</l><l>zero</l><l>radian</l><l>rotation</l></list></block><block s="doSetVar"><l>radian</l><block s="reportQuotient"><block s="reportVariadicProduct"><list><block var="degrees"/><l>3.1415926</l></list></block><l>180</l></block></block><block s="doSetVar"><l>rotation</l><custom-block s="üü£ ask %s for %s"><block var="name"/><l>rotation</l></custom-block></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="duration"/><l>0</l></list></block><script><custom-block s="ü™üpostMessage id %s msg %mlt"><l>SplineWorld</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block var="name"/><l>rotation</l><block s="reportListItem"><l>1</l><block var="rotation"/></block><block s="reportVariadicSum"><list><block s="reportListItem"><l>2</l><block var="rotation"/></block><block var="radian"/></list></block><block s="reportListItem"><l>3</l><block var="rotation"/></block></list></block></block></custom-block></script><list><l><bool>true</bool></l><script><custom-block s="for %upvar = %n to %n %br in %n secs easing %txt %ca"><l>i</l><block s="reportListItem"><l>2</l><block var="rotation"/></block><block s="reportVariadicSum"><list><block s="reportListItem"><l>2</l><block var="rotation"/></block><block var="radian"/></list></block><block var="duration"/><l>linear</l><script><custom-block s="ü™üpostMessage id %s msg %mlt"><l>SplineWorld</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block var="name"/><l>rotation</l><block s="reportListItem"><l>1</l><block var="rotation"/></block><block var="i"/><block s="reportListItem"><l>3</l><block var="rotation"/></block></list></block></block></custom-block></script></custom-block></script></list></block></script></block-definition><block-definition s="ü™ü _load js/css" type="command" category="ü™ü iframe" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>// add jqueryui css&#xD;let jqueryui_url = &apos;https://code.jquery.com/ui/1.13.3/themes/base/jquery-ui.css&apos;;&#xD;let linkExists = document.querySelector(`link[href="${jqueryui_url}"]`);&#xD;if (linkExists) {return}&#xD;&#xD;let link = document.createElement(&apos;link&apos;);&#xD;link.rel = &apos;stylesheet&apos;;&#xD;link.href = jqueryui_url;&#xD;document.head.appendChild(link);&#xD;&#xD;// create ui-resizable-helper&#xD;var style = document.createElement(&apos;style&apos;);&#xD;style.type = &apos;text/css&apos;;&#xD;var css = `&#xD;    #resizable { width: 150px; height: 150px; padding: 0.5em; }&#xD;    .ui-resizable-helper { border: 20px solid #EFEFEF; margin: -20px; }&#xD;`;&#xD;style.appendChild(document.createTextNode(css));&#xD;document.head.appendChild(style);</l></block><list></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://code.jquery.com/jquery-3.7.1.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://code.jquery.com/ui/1.13.3/jquery-ui.js</l></list></block></script></block-definition><block-definition s="ü™ü handle postMessage from iframe $nl callback %&apos;callback&apos;" type="command" category="ü™ü iframe"><header></header><code></code><translations></translations><inputs><input type="%cmdRing" initial="1"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>callback</l></list><l>let that = this;&#xD;&#xD;function run_callback(callback, args) {&#xD;  let stage = that.parentThatIsA(StageMorph);&#xD;  let proc = new Process();&#xD;  // let args = args;&#xD;  proc.initializeFor(callback, new List(args));&#xD;  stage.threads.processes.push(proc);&#xD;}&#xD;&#xD;if (window._handlePostMessage){&#xD;  window.removeEventListener(&apos;message&apos;, window._handlePostMessage);&#xD;}&#xD;&#xD;window._handlePostMessage = (event) =&gt; {&#xD;    console.log(&apos;Received message from iframe:&apos;, event.data);&#xD;    run_callback(callback, [event.data]);&#xD;}&#xD;&#xD;window.addEventListener(&apos;message&apos;, window._handlePostMessage);</l></block><list><block var="callback"/></list></block></script></block-definition><block-definition s="for %&apos;i&apos; = %&apos;start&apos; to %&apos;end&apos; $nl in %&apos;time&apos; secs easing %&apos;easing&apos; %&apos;action&apos;" type="command" category="control"><header></header><code></code><translations>de:f√ºr _ = _ bis _ _ in _ Sek. beschleunigt: _ _&#xD;ca:per _ = _ fins _ _ en _ segons de forma _ _&#xD;pt:para _ de _ a _ _ em _ s de forma _ _&#xD;</translations><inputs><input type="%upvar"></input><input type="%n">0</input><input type="%n">100</input><input type="%n">1</input><input type="%txt" readonly="true">linear<options>linear&#xD;quadratic={&#xD;quadratic-in&#xD;quadratic-out&#xD;quadratic-in-out&#xD;}&#xD;cubic={&#xD;cubic-in&#xD;cubic-out&#xD;cubic-in-out&#xD;}&#xD;quart={&#xD;quart-in&#xD;quart-out&#xD;quart-in-out&#xD;}&#xD;sinusoidal={&#xD;sine-in&#xD;sine-out&#xD;sine-in-out&#xD;}&#xD;sigmoid&#xD;elastic</options></input><input type="%ca"></input></inputs><script><block s="doSetVar"><l>i</l><block var="start"/></block><custom-block s="animate setter %cmdRing getter %repRing delta %n over %n secs easing %repRing"><block s="reifyScript"><script><block s="doSetVar"><l>i</l><l></l></block><block s="doRun"><block var="action"/><list></list></block></script><list></list></block><block s="reifyReporter"><autolambda><block var="i"/></autolambda><list></list></block><block s="reportDifference"><block var="end"/><block var="start"/></block><block var="time"/><block s="reportIfElse"><block s="reportIsA"><block var="easing"/><l><option>reporter</option></l></block><block var="easing"/><custom-block s="easing %txt"><block var="easing"/></custom-block></block></custom-block></script></block-definition><block-definition s="easing %&apos;choice&apos;" type="reporter" category="operators"><header></header><code></code><translations>de:Beschleunigung _&#xD;ca:de forma _&#xD;pt:a forma _&#xD;</translations><inputs><input type="%txt" readonly="true">linear<options>linear&#xD;quadratic={&#xD;quadratic-in&#xD;quadratic-out&#xD;quadratic-in-out&#xD;}&#xD;cubic={&#xD;cubic-in&#xD;cubic-out&#xD;cubic-in-out&#xD;}&#xD;quart={&#xD;quart-in&#xD;quart-out&#xD;quart-in-out&#xD;}&#xD;sinusoidal={&#xD;sine-in&#xD;sine-out&#xD;sine-in-out&#xD;}&#xD;sigmoid&#xD;elastic</options></input></inputs><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="choice"/><l>linear</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportMonadic"><l><option>id</option></l><l></l></block></autolambda><list></list></block></block></script><list><block s="reportVariadicEquals"><list><block var="choice"/><l>quadratic-out</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportVariadicProduct"><list><l></l><l></l></list></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>quadratic-in</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportVariadicProduct"><list><l></l><block s="reportDifference"><l>2</l><l></l></block></list></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>quadratic-in-out</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportVariadicLessThan"><list><l></l><l>.5</l></list></block><block s="reportVariadicProduct"><list><l>2</l><block s="reportVariadicProduct"><list><l></l><l></l></list></block></list></block><block s="reportDifference"><block s="reportVariadicProduct"><list><block s="reportDifference"><l>4</l><block s="reportVariadicProduct"><list><l>2</l><l></l></list></block></block><l></l></list></block><l>1</l></block></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>cubic-out</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportVariadicProduct"><list><l></l><block s="reportVariadicProduct"><list><l></l><l></l></list></block></list></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>cubic-in</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportVariadicSum"><list><block s="reportVariadicProduct"><list><block s="reportVariadicProduct"><list><custom-block s="-- %anyUE"><block var="t"/></custom-block><block var="t"/></list></block><block var="t"/></list></block><l>1</l></list></block></autolambda><list><l>t</l></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>cubic-in-out</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportVariadicLessThan"><list><l></l><l>.5</l></list></block><block s="reportVariadicProduct"><list><l>4</l><block s="reportVariadicProduct"><list><l></l><block s="reportVariadicProduct"><list><l></l><l></l></list></block></list></block></list></block><block s="reportVariadicSum"><list><block s="reportVariadicProduct"><list><block s="reportVariadicProduct"><list><block s="reportDifference"><l></l><l>1</l></block><block s="reportDifference"><block s="reportVariadicProduct"><list><l>2</l><l></l></list></block><l>2</l></block></list></block><block s="reportDifference"><block s="reportVariadicProduct"><list><l>2</l><l></l></list></block><l>2</l></block></list></block><l>1</l></list></block></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>quart-out</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportVariadicProduct"><list><l></l><block s="reportVariadicProduct"><list><l></l><block s="reportVariadicProduct"><list><l></l><l></l></list></block></list></block></list></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>quart-in</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportDifference"><l>1</l><block s="reportVariadicProduct"><list><custom-block s="-- %anyUE"><block var="t"/></custom-block><block s="reportVariadicProduct"><list><block var="t"/><block s="reportVariadicProduct"><list><block var="t"/><block var="t"/></list></block></list></block></list></block></block></autolambda><list><l>t</l></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>quart-in-out</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportVariadicLessThan"><list><l></l><l>.5</l></list></block><block s="reportVariadicProduct"><list><l>8</l><block s="reportVariadicProduct"><list><l></l><block s="reportVariadicProduct"><list><l></l><block s="reportVariadicProduct"><list><l></l><l></l></list></block></list></block></list></block></list></block><block s="evaluate"><block s="reifyReporter"><autolambda><block s="reportDifference"><l>1</l><block s="reportVariadicProduct"><list><l>8</l><block s="reportVariadicProduct"><list><custom-block s="-- %anyUE"><block var="t"/></custom-block><block s="reportVariadicProduct"><list><block var="t"/><block s="reportVariadicProduct"><list><block var="t"/><block var="t"/></list></block></list></block></list></block></list></block></block></autolambda><list><l>t</l></list></block><list><l></l></list></block></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>sine-out</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportDifference"><l>1</l><block s="reportMonadic"><l><option>sin</option></l><block s="reportVariadicSum"><list><l>90</l><block s="reportVariadicProduct"><list><l></l><l>90</l></list></block></list></block></block></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>sine-in</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportMonadic"><l><option>sin</option></l><block s="reportVariadicProduct"><list><l></l><l>90</l></list></block></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>sine-in-out</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportQuotient"><block s="reportDifference"><l>1</l><block s="reportMonadic"><l><option>cos</option></l><block s="reportVariadicProduct"><list><l></l><l>180</l></list></block></block></block><l>2</l></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>sigmoid</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><block s="reportQuotient"><l>1</l><block s="reportVariadicSum"><list><l>1</l><block s="reportMonadic"><l><option>e^</option></l><block s="reportMonadic"><l><option>neg</option></l><block s="reportDifference"><block s="reportVariadicProduct"><list><l></l><l>20</l></list></block><l>10</l></block></block></block></list></block></block></autolambda><list></list></block></block></script><block s="reportVariadicEquals"><list><block var="choice"/><l>elastic</l></list></block><script><block s="doReport"><block s="reifyScript"><script><block s="doDeclareVariables"><list><l>p</l></list></block><block s="doSetVar"><l>p</l><l>0.3</l></block><block s="doReport"><block s="reportVariadicSum"><list><block s="reportVariadicProduct"><list><block s="reportPower"><l>2</l><block s="reportVariadicProduct"><list><l>-10</l><l></l></list></block></block><block s="reportMonadic"><l><option>sin</option></l><custom-block s="degrees %n"><block s="reportVariadicProduct"><list><block s="reportDifference"><l></l><block s="reportQuotient"><block var="p"/><l>4</l></block></block><block s="reportQuotient"><block s="reportVariadicProduct"><list><l>2</l><custom-block s="PI"></custom-block></list></block><block var="p"/></block></list></block></custom-block></block></list></block><l>1</l></list></block></block></script><list></list></block></block></script></list></block><custom-block s="error %s"><block s="reportJoinWords"><list><l>unknown easing function "</l><block var="choice"/><l>"</l></list></block></custom-block></script></block-definition><block-definition s="-- %&apos;n&apos;" type="reporter" category="variables"><header></header><code></code><translations></translations><inputs><input type="%anyUE" readonly="true"></input></inputs><script><block s="doRun"><block s="reifyScript"><script><block s="doChangeVar"><l></l><l>-1</l></block></script><list></list></block><list><block var="n"/></list></block><block s="doReport"><block s="evaluate"><block var="n"/><list></list></block></block></script></block-definition><block-definition s="PI" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><l>3.141592653589793</l></block></script></block-definition><block-definition s="degrees %&apos;radians&apos;" type="reporter" category="operators"><header></header><code></code><translations>de:Grad _&#xD;ca:graus de _ radians&#xD;pt:_ radianos em graus&#xD;</translations><inputs><input type="%n">0.5</input></inputs><script><block s="doReport"><block s="reportQuotient"><block s="reportVariadicProduct"><list><block var="radians"/><l>180</l></list></block><custom-block s="PI"></custom-block></block></block></script></block-definition><block-definition s="error %&apos;msg&apos;" type="command" category="control"><header></header><code></code><translations>de:Fehler _&#xD;pt:assinala o erro _&#xD;</translations><inputs><input type="%s"></input></inputs><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block var="msg"/></list></block></script></block-definition><block-definition s="animate setter %&apos;setter&apos; getter %&apos;getter&apos; delta %&apos;delta&apos; over %&apos;duration&apos; secs easing %&apos;easing&apos;" type="command" category="control"><header></header><code></code><translations>de:animiere Setter _ Getter _ Delta _ √ºber _ Sek. beschleunigt _&#xD;ca:modifica setter _ i getter _ amb delta _ en _ segons de forma _&#xD;pt:anima com modificador _ e inspector _ de _ em _ s de forma _&#xD;</translations><inputs><input type="%cmdRing"></input><input type="%repRing"></input><input type="%n">50</input><input type="%n">1</input><input type="%repRing"></input></inputs><script><block s="doDeclareVariables"><list><l>end time</l><l>destination</l></list></block><block s="doSetVar"><l>end time</l><block s="reportVariadicSum"><list><block s="reportDate"><l><option>time in milliseconds</option></l></block><block s="reportVariadicProduct"><list><block var="duration"/><l>1000</l></list></block></list></block></block><block s="doSetVar"><l>destination</l><block s="reportVariadicSum"><list><block s="evaluate"><block var="getter"/><list></list></block><block var="delta"/></list></block></block><block s="doUntil"><block s="reportVariadicGreaterThan"><list><block s="reportDate"><l><option>time in milliseconds</option></l></block><block var="end time"/></list></block><script><block s="doRun"><block var="setter"/><list><block s="reportDifference"><block var="destination"/><block s="reportVariadicProduct"><list><block var="delta"/><block s="evaluate"><block var="easing"/><list><block s="reportQuotient"><block s="reportDifference"><block var="end time"/><block s="reportDate"><l><option>time in milliseconds</option></l></block></block><block s="reportVariadicProduct"><list><block var="duration"/><l>1000</l></list></block></block></list></block></list></block></block></list></block></script></block><block s="doRun"><block var="setter"/><list><block var="destination"/></list></block></script></block-definition><block-definition s="glide %&apos;steps&apos; in %&apos;duration&apos; secs easing %&apos;easing&apos;" type="command" category="motion"><header></header><code></code><translations>de:gleite _ in _ Sek. beschleunigt: _&#xD;ca:llisca _ en _ segons de forma _&#xD;fr:glisser _ en _ sec. acc√©l√©rer _&#xD;pt:desliza _ em _ s de forma _&#xD;</translations><inputs><input type="%n">50</input><input type="%n">1</input><input type="%s" readonly="true">linear<options>linear&#xD;quadratic={&#xD;quadratic-in&#xD;quadratic-out&#xD;quadratic-in-out&#xD;}&#xD;cubic={&#xD;cubic-in&#xD;cubic-out&#xD;cubic-in-out&#xD;}&#xD;quart={&#xD;quart-in&#xD;quart-out&#xD;quart-in-out&#xD;}&#xD;sinusoidal={&#xD;sine-in&#xD;sine-out&#xD;sine-in-out&#xD;}&#xD;sigmoid&#xD;elastic</options></input></inputs><script><custom-block s="animate setter %cmdRing getter %repRing delta %n over %n secs easing %repRing"><block s="reifyScript"><script><block s="doGotoObject"><l></l></block></script><list></list></block><block s="reifyReporter"><autolambda><block s="getPosition"></block></autolambda><list></list></block><block s="reportVariadicProduct"><list><block var="steps"/><block s="reportNewList"><list><block s="reportMonadic"><l><option>sin</option></l><block s="direction"></block></block><block s="reportMonadic"><l><option>cos</option></l><block s="direction"></block></block></list></block></list></block><block var="duration"/><custom-block s="easing %txt"><block var="easing"/></custom-block></custom-block></script></block-definition><block-definition s="animate %&apos;attribute&apos; by %&apos;delta&apos; in %&apos;duration&apos; secs easing %&apos;easing&apos;" type="command" category="motion"><header></header><code></code><translations>de:animiere _ um _ in _ Sek. beschleunigt: _&#xD;ca:modifica _ amb _ en _ segons de forma _&#xD;pt:anima _ de _ em _ s de forma _&#xD;</translations><inputs><input type="%s" readonly="true">x position<options>steps&#xD;x position&#xD;y position&#xD;direction&#xD;size&#xD;ghost effect&#xD;color effect&#xD;saturation effect&#xD;brightness effect&#xD;fisheye effect&#xD;whirl effect&#xD;pixelate effect&#xD;mosaic effect&#xD;negative effect&#xD;tempo&#xD;volume&#xD;balance</options></input><input type="%n">50</input><input type="%n">1</input><input type="%s" readonly="true">linear<options>linear&#xD;quadratic={&#xD;quadratic-in&#xD;quadratic-out&#xD;quadratic-in-out&#xD;}&#xD;cubic={&#xD;cubic-in&#xD;cubic-out&#xD;cubic-in-out&#xD;}&#xD;quart={&#xD;quart-in&#xD;quart-out&#xD;quart-in-out&#xD;}&#xD;sinusoidal={&#xD;sine-in&#xD;sine-out&#xD;sine-in-out&#xD;}&#xD;sigmoid&#xD;elastic</options></input></inputs><script><block s="doDeclareVariables"><list><l>accessors</l><l>func</l></list></block><block s="doIfElse"><block s="reportVariadicEquals"><list><block var="attribute"/><l>steps</l></list></block><script><block s="doSetVar"><l>accessors</l><block s="reportNewList"><list><block s="reifyScript"><script><block s="doGotoObject"><l></l></block></script><list></list></block><block s="reifyReporter"><autolambda><block s="getPosition"></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>delta</l><block s="reportVariadicProduct"><list><block var="delta"/><block s="reportNewList"><list><block s="reportMonadic"><l><option>sin</option></l><block s="direction"></block></block><block s="reportMonadic"><l><option>cos</option></l><block s="direction"></block></block></list></block></list></block></block></script><script><block s="doSetVar"><l>accessors</l><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="attribute"/><l>x position</l></list></block><block s="reportNewList"><list><block s="reifyScript"><script><block s="setXPosition"><l></l></block></script><list></list></block><block s="reifyReporter"><autolambda><block s="xPosition"></block></autolambda><list></list></block></list></block><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="attribute"/><l>y position</l></list></block><block s="reportNewList"><list><block s="reifyScript"><script><block s="setYPosition"><l></l></block></script><list></list></block><block s="reifyReporter"><autolambda><block s="yPosition"></block></autolambda><list></list></block></list></block><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="attribute"/><l>direction</l></list></block><block s="reportNewList"><list><block s="reifyScript"><script><block s="setHeading"><l></l></block></script><list></list></block><block s="reifyReporter"><autolambda><block s="direction"></block></autolambda><list></list></block></list></block><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="attribute"/><l>size</l></list></block><block s="reportNewList"><list><block s="reifyScript"><script><block s="setScale"><l></l></block></script><list></list></block><block s="reifyReporter"><autolambda><block s="getScale"></block></autolambda><list></list></block></list></block><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="attribute"/><l>tempo</l></list></block><block s="reportNewList"><list><block s="reifyScript"><script><block s="doSetTempo"><l></l></block></script><list></list></block><block s="reifyReporter"><autolambda><block s="getTempo"></block></autolambda><list></list></block></list></block><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="attribute"/><l>volume</l></list></block><block s="reportNewList"><list><block s="reifyScript"><script><block s="setVolume"><l></l></block></script><list></list></block><block s="reifyReporter"><autolambda><block s="getVolume"></block></autolambda><list></list></block></list></block><block s="reportIfElse"><block s="reportVariadicEquals"><list><block var="attribute"/><l>balance</l></list></block><block s="reportNewList"><list><block s="reifyScript"><script><block s="setPan"><l></l></block></script><list></list></block><block s="reifyReporter"><autolambda><block s="getPan"></block></autolambda><list></list></block></list></block><block s="reportNewList"><list><block s="reifyScript"><script><block s="setEffect"><block s="reportListItem"><l>1</l><block s="reportTextSplit"><block var="attribute"/><l> </l></block></block><l></l></block></script><list></list></block><block s="reifyReporter"><autolambda><block s="getEffect"><block s="reportListItem"><l>1</l><block s="reportTextSplit"><block var="attribute"/><l> </l></block></block></block></autolambda><list></list></block></list></block></block></block></block></block></block></block></block></block></script></block><block s="doIfElse"><block s="reportIsA"><block var="easing"/><l><option>reporter</option></l></block><script><block s="doSetVar"><l>func</l><block var="easing"/></block></script><script><block s="doSetVar"><l>func</l><custom-block s="easing %txt"><block var="easing"/></custom-block></block></script></block><custom-block s="animate setter %cmdRing getter %repRing delta %n over %n secs easing %repRing"><block s="reportListItem"><l>1</l><block var="accessors"/></block><block s="reportListItem"><l>2</l><block var="accessors"/></block><block var="delta"/><block var="duration"/><block var="func"/></custom-block></script></block-definition><block-definition s="üü£ tell %&apos;name&apos; to turn $turnRight %&apos;n&apos; degrees $nl duration %&apos;duration&apos; s" type="command" category="üü£ Spline"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">pig</input><input type="%s" initial="1">90</input><input type="%n" initial="1">1</input></inputs><script><custom-block s="üü£ tell %s to turn $turnLeft %s degrees %br duration %n s"><block var="name"/><block s="reportVariadicProduct"><list><l>-1</l><block var="n"/></list></block><block var="duration"/></custom-block></script></block-definition><block-definition s="üü£ tell %&apos;name&apos; to change %&apos;xyz&apos; by %&apos;value&apos; $nl duration %&apos;duration&apos; s" type="command" category="üü£ Spline"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">pig</input><input type="%s" readonly="true" initial="1">x<options>x&#xD;y&#xD;z</options></input><input type="%s" initial="1">100</input><input type="%n" initial="1">1</input></inputs><script><block s="doDeclareVariables"><list><l>msg</l><l>xyz_map</l><l>position_map</l><l>position</l></list></block><block s="doSetVar"><l>position</l><custom-block s="üü£ ask %s for %s"><block var="name"/><l>position</l></custom-block></block><block s="doSetVar"><l>xyz_map</l><block s="reportNewList"><list><block s="reportNewList"><list><l>x</l><l>3</l></list></block><block s="reportNewList"><list><l>y</l><l>4</l></list></block><block s="reportNewList"><list><l>z</l><l>5</l></list></block></list></block></block><block s="doSetVar"><l>position_map</l><block s="reportNewList"><list><block s="reportNewList"><list><l>x</l><l>1</l></list></block><block s="reportNewList"><list><l>y</l><l>2</l></list></block><block s="reportNewList"><list><l>z</l><l>3</l></list></block></list></block></block><block s="doSetVar"><l>msg</l><block s="reportNewList"><list><block var="name"/><l>position</l><block s="reportListItem"><l>1</l><block var="position"/></block><block s="reportListItem"><l>2</l><block var="position"/></block><block s="reportListItem"><l>3</l><block var="position"/></block></list></block></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="duration"/><l>0</l></list></block><script><block s="doReplaceInList"><block s="reportListItem"><block var="xyz"/><block var="xyz_map"/></block><block var="msg"/><block s="reportVariadicSum"><list><block s="reportListItem"><block s="reportListItem"><block var="xyz"/><block var="position_map"/></block><block var="position"/></block><block var="value"/></list></block></block><custom-block s="ü™üpostMessage id %s msg %mlt"><l>SplineWorld</l><block s="reportListAttribute"><l><option>json</option></l><block var="msg"/></block></custom-block></script><list><l><bool>true</bool></l><script><custom-block s="for %upvar = %n to %n %br in %n secs easing %txt %ca"><l>i</l><block s="reportListItem"><block s="reportListItem"><block var="xyz"/><block var="position_map"/></block><block var="position"/></block><block s="reportVariadicSum"><list><block s="reportListItem"><block s="reportListItem"><block var="xyz"/><block var="position_map"/></block><block var="position"/></block><block var="value"/></list></block><block var="duration"/><l>linear</l><script><block s="doReplaceInList"><block s="reportListItem"><block var="xyz"/><block var="xyz_map"/></block><block var="msg"/><block var="i"/></block><custom-block s="ü™üpostMessage id %s msg %mlt"><l>SplineWorld</l><block s="reportListAttribute"><l><option>json</option></l><block var="msg"/></block></custom-block></script></custom-block></script></list></block></script><scripts><script x="453.06308593749964" y="280.34999999999974"><custom-block s="üü£ ask %s for %s"><l>pig</l><l>position</l></custom-block></script></scripts></block-definition><block-definition s="üü£ tell %&apos;name&apos; to set size to %&apos;n&apos; % $nl duration %&apos;duration&apos; s" type="command" category="üü£ Spline"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">pig</input><input type="%s" initial="1">100</input><input type="%n" initial="1">1</input></inputs><script><block s="doDeclareVariables"><list><l>scale</l></list></block><block s="doSetVar"><l>scale</l><custom-block s="üü£ ask %s for %s"><block var="name"/><l>scale</l></custom-block></block><block s="doSetVar"><l>n</l><block s="reportQuotient"><block var="n"/><l>100</l></block></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="duration"/><l>0</l></list></block><script><custom-block s="ü™üpostMessage id %s msg %mlt"><l>SplineWorld</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block var="name"/><l>scale</l><block var="n"/><block var="n"/><block var="n"/></list></block></block></custom-block></script><list><l><bool>true</bool></l><script><custom-block s="for %upvar = %n to %n %br in %n secs easing %txt %ca"><l>i</l><block s="reportListItem"><l>1</l><block var="scale"/></block><block var="n"/><l>1</l><l>sine-in-out</l><script><custom-block s="ü™üpostMessage id %s msg %mlt"><l>SplineWorld</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block var="name"/><l>scale</l><block var="i"/><block var="i"/><block var="i"/></list></block></block></custom-block></script></custom-block></script></list></block></script></block-definition><block-definition s="$cloudOutline MQTT connect to %&apos;broker&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="command" category="other"><comment x="0" y="0" w="416.6666666666665" collapsed="false">Connect to a broker&#xD;&#xD;The options are not required but can be filled if needed&#xD;&#xD;1. username (some brokers need this)&#xD;2. password (some brokers need this)&#xD;3. keepalive (default time is 60 seconds but some brokers need a shorter time)&#xD;4. connection callback (ringed set of scripts to be run when connection is made or remade)&#xD;&#xD;Note: The connection callback doesn&apos;&apos;t have to be the 4th option - it just has to be the last (or only) option.&#xD;&#xD;ADVANCED: The brokers offered in the menu are accessed using default ports and  basepaths (if needed).  If accessing other brokers, the complete urls should be formed like this:&#xD;&#xD;siteURL:port/basepath &#xD;e.g mqtt.eclipseprojects.io:443/mqtt&#xD;&#xD;It is possible to have more than one connection to the same broker, for instance, using two different user/pass accounts simultaneously. To do this, add a connection id at the end of the broker:&#xD;&#xD;e.g mqtt.eclipseprojects.io:443/mqtt|1&#xD;</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%mult%s"></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doIf"><block s="reportNot"><block s="reportJoinWords"><block var="options"/></block></block><script><block s="doSetVar"><l>options</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doDeclareVariables"><list><l>connection status</l><l>callback</l></list></block><block s="doSetVar"><l>connection status</l><l>connecting</l></block><block s="doSetVar"><l>callback</l><l></l></block><block s="doIf"><block s="reportIsA"><block s="reportListItem"><l><option>last</option></l><block var="options"/></block><l><option>command</option></l></block><script><block s="doSetVar"><l>callback</l><block s="reportListItem"><l><option>last</option></l><block var="options"/></block></block><block s="doDeleteFromList"><l><option>last</option></l><block var="options"/></block></script><list></list></block><block s="doSetVar"><l>options</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>username</l><block s="reportListItem"><l>1</l><block var="options"/></block></list></block><block s="reportNewList"><list><l>password</l><block s="reportListItem"><l>2</l><block var="options"/></block></list></block><block s="reportNewList"><list><l>keepalive</l><block s="reportListItem"><l>3</l><block var="options"/></block></list></block></list></block></block></block><block s="doApplyExtension"><l>mqt_connect(broker,callback,options)</l><list><block var="broker"/><block var="callback"/><block var="options"/></list></block><block s="doWaitUntil"><block s="reportNot"><block s="reportVariadicEquals"><list><block var="connection status"/><l>connecting</l></list></block></block></block><block s="doIf"><block s="reportNot"><block s="reportVariadicEquals"><list><block var="connection status"/><l>connected</l></list></block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block var="connection status"/></list></block></script><list></list></block></script></block-definition><block-definition s="$cloudOutline MQTT publish to %&apos;broker&apos; topic %&apos;topic&apos; payload %&apos;payload&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="command" category="other"><comment x="0" y="0" w="200" collapsed="false">Publish a message to an MQTT broker&#xD;&#xD;The options are not required but can be filled if needed&#xD;&#xD;1. qos (quality of service 0,1 or 2)&#xD;2. retain flag (boolean)&#xD;</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input><input type="%mlt">hello</input><input type="%mult%s"></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doIf"><block s="reportNot"><block s="reportJoinWords"><block var="options"/></block></block><script><block s="doSetVar"><l>options</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doSetVar"><l>options</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>qos</l><block s="reportListItem"><l>1</l><block var="options"/></block></list></block><block s="reportNewList"><list><l>retain</l><block s="reportListItem"><l>2</l><block var="options"/></block></list></block></list></block></block></block><block s="doIf"><block s="reportIsA"><block var="payload"/><l><option>list</option></l></block><script><block s="doSetVar"><l>payload</l><block s="reportListAttribute"><l><option>json</option></l><block var="payload"/></block></block></script><list></list></block><block s="doIf"><block s="reportIsA"><block var="payload"/><l><option>number</option></l></block><script><block s="doSetVar"><l>payload</l><block s="reportJoinWords"><list><block var="payload"/></list></block></block></script><list></list></block><block s="doApplyExtension"><l>mqt_pub(broker,topic,payload,options)</l><list><block var="broker"/><block var="topic"/><block var="payload"/><block var="options"/></list></block></script></block-definition><block-definition s="$cloudOutline MQTT subscribe to %&apos;broker&apos; topic %&apos;topic&apos; $nl on each message run %&apos;callback&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="command" category="other"><comment x="0" y="0" w="239.99999999999977" collapsed="false">Subscribe to a topic on a broker&#xD;&#xD;Make sure you have already run an MQTT connect block before using this one&#xD;&#xD;You should add a script to be run inside he grey ring.&#xD;&#xD;It will be run each time a message is received&#xD;&#xD;If you click on the arrow on the grey ring twice, you can use #1 and #2 inside your script.&#xD;&#xD;#1 will contain the received payload&#xD;&#xD;#2 will contain the received topic name&#xD;&#xD;The options are not required but can be filled if needed&#xD;&#xD;There is only 1 option at present&#xD;1. Binary mode (boolean) If true, payload returned as plain binary byte string.  Default condition (false) it is returned as UTF text string</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input><input type="%cmdRing"></input><input type="%mult%s"></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doIf"><block s="reportNot"><block s="reportJoinWords"><block var="options"/></block></block><script><block s="doSetVar"><l>options</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doSetVar"><l>options</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>mode</l><block s="reportListItem"><l>1</l><block var="options"/></block></list></block></list></block></block></block><block s="doApplyExtension"><l>mqt_sub(broker,topic,callback,options)</l><list><block var="broker"/><block var="topic"/><block var="callback"/><block var="options"/></list></block></script></block-definition><block-definition s="$cloudOutline MQTT unsubscribe from %&apos;broker&apos; topic %&apos;topic&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doApplyExtension"><l>mqt_unsub(broker,topic)</l><list><block var="broker"/><block var="topic"/></list></block></script></block-definition><block-definition s="$cloudOutline MQTT disconnect from %&apos;broker&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%s">all<options>all&#xD;broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doApplyExtension"><l>mqt_disconnect(broker)</l><list><block var="broker"/></list></block></script></block-definition><block-definition s="üí¨ _onMessage %&apos;payload&apos;" type="command" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>message</l></list></block><custom-block s="üí¨ _debugLog %s"><l>_onMessage</l></custom-block><custom-block s="üí¨ _debugLog %s"><block var="payload"/></custom-block><custom-block s="safely try %cs then if %upvar %cs"><script><block s="doSetVar"><l>message</l><block s="reportTextSplit"><block var="payload"/><l><option>json</option></l></block></block><block s="doIf"><block s="reportVariadicOr"><list><block s="reportVariadicEquals"><list><block s="reportListItem"><l>to</l><block var="message"/></block><l>SnapAgent</l></list></block><block s="reportVariadicEquals"><list><block s="reportListItem"><l>to</l><block var="message"/></block><l>[broadcast]</l></list></block></list></block><script><custom-block s="üí¨ _interpret %s"><block var="message"/></custom-block></script><list></list></block></script><l>error</l><script></script></custom-block></script></block-definition><block-definition s="üí¨ _interpret %&apos;message&apos;" type="command" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>action</l><l>args</l><l>actionExist?</l></list></block><block s="doSetVar"><l>actionExist?</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><block s="doSetVar"><l>_dynatalkCurrentMessage</l><block var="message"/></block><block s="doSetVar"><l>action</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>name</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>args</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block></list></block></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="action"/><l>[response]</l></list></block><script><custom-block s="üí¨_processPromises %s"><block var="message"/></custom-block></script><list><block s="reportVariadicEquals"><list><block var="action"/><l>[error]</l></list></block><script><custom-block s="üí¨_processPromises %s"><block var="message"/></custom-block></script><l><bool>true</bool></l><script><block s="doForEach"><l>item</l><block s="reportConcatenatedLists"><list><custom-block s="üí¨ actions"></custom-block><block s="reportNewList"><list><block s="reifyScript"><script><custom-block s="üí¨ help"></custom-block></script><list></list></block><block s="reifyScript"><script><custom-block s="ping"></custom-block></script><list></list></block></list></block></list></block><script><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>1</l><block s="reportTextSplit"><block s="reportBlockAttribute"><l><option>label</option></l><block var="item"/></block><l> </l></block></block><block var="action"/></list></block><script><custom-block s="üí¨ _debugLog %s"><l>run it!</l></custom-block><block s="doSetVar"><l>actionExist?</l><block s="reportBoolean"><l><bool>true</bool></l></block></block><block s="doRun"><block var="item"/><block var="args"/></block></script><list></list></block></script></block><block s="doIf"><block s="reportNot"><block var="actionExist?"/></block><script><custom-block s="üí¨ raiseWith %s"><block s="reportJoinWords"><list><l>Message Not Understood: </l><custom-block s="üí¨agentName"></custom-block><l>&gt;&gt;</l><block var="action"/></list></block></custom-block></script><list></list></block></script></list></block></script><scripts><script x="454.2307692307692" y="427.8525641025642"><block s="evaluate"><block s="reifyReporter"><autolambda><block s="xPosition"></block></autolambda><list></list></block><list><l></l></list></block></script><comment x="387.6923076923076" y="182.8461538461539" w="200.7692307692308" collapsed="false">{&#xD;  &quot;meta&quot;: {&#xD;    &quot;id&quot;: &quot;817411a0-cdd3-4372-a8d5-361e17440301&quot;&#xD;  },&#xD;  &quot;from&quot;: &quot;User&quot;,&#xD;  &quot;to&quot;: &quot;SnapAgent&quot;,&#xD;  &quot;action&quot;: {&#xD;    &quot;name&quot;: &quot;echo&quot;,&#xD;    &quot;args&quot;: [&quot;hi&quot;]&#xD;  }&#xD;}</comment><script x="202.6923076923077" y="623.1121794871801"><block s="doSetVar"><l>test</l><block s="reportListItem"><l>1</l><custom-block s="üí¨ actions"></custom-block></block></block><block s="bubble"><block s="reportListItem"><l>1</l><block s="reportTextSplit"><block s="reportBlockAttribute"><l><option>label</option></l><block var="test"/></block><l> </l></block></block></block></script><script x="413.3307542067309" y="606.4198717948723"><block var="item"/></script><script x="249.2307692307692" y="267.9743589743595"><custom-block s="üí¨ _debugLog %s"><l>args:</l></custom-block><custom-block s="üí¨ _debugLog %s"><block var="args"/></custom-block></script></scripts></block-definition><block-definition s="safely try %&apos;action&apos; then if %&apos;error&apos; %&apos;handler&apos;" type="command" category="control"><comment x="0" y="0" w="276" collapsed="false">Catch errors.&#xD;&#xD;Runs the first script.  If it succeeds, nothing else happens.&#xD;But if it has an error (something that would otherwise result&#xD;in a red halo around the block), then the second script is run,&#xD;with the text of the error message that would have been shown in the variable ERROR.</comment><header></header><code></code><translations>pt:tenta executar _ e, em caso de erro _ , executa _&#xD;ca:prova de forma segura _ i si _ _&#xD;</translations><inputs><input type="%cs"></input><input type="%upvar"></input><input type="%cs"></input></inputs><script><block s="doApplyExtension"><l>err_try(cmd, catch, err)</l><list><block var="action"/><block var="handler"/><block var="error"/></list></block><block s="doApplyExtension"><l>err_reset</l><list></list></block></script></block-definition><block-definition s="multiline %&apos;text&apos;" type="reporter" category="operators"><header></header><code></code><translations>pt:o texto multilinha _&#xD;ca:multil√≠nia _&#xD;</translations><inputs><input type="%mlt"></input></inputs><script><block s="doReport"><block var="text"/></block></script></block-definition><block-definition s="üí¨ _debugging" type="reporter" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block-definition><block-definition s="üí¨ _debugLog %&apos;x&apos;" type="command" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doIf"><custom-block s="üí¨ _debugging"></custom-block><script><block s="doAddToList"><block var="x"/><block var="_dynatalkLogs"/></block></script><list></list></block></script><scripts><script x="187.3076923076923" y="106.46153846153796"><block s="reportJoinWords"><list><l>hello </l><l>world</l></list></block></script><script x="185.7692307692308" y="142.3589743589744"><block s="reportNewList"><list><l></l><l></l></list></block></script></scripts></block-definition><block-definition s="üí¨_clearLog" type="command" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>_dynatalkLogs</l><block s="reportNewList"><list></list></block></block></script></block-definition><block-definition s="üí¨ _start listening for postmessage" type="command" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>_dynatalkLogs</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>_dynatalkFakePromises</l><block s="reportNewList"><list></list></block></block><block s="doDeclareVariables"><list><l>callback</l></list></block><block s="doSetVar"><l>callback</l><block s="reifyScript"><script><custom-block s="üí¨ _onMessage %s"><block var="payload"/></custom-block></script><list><l>payload</l></list></block></block><block s="doRun"><block s="reportJSFunction"><list><l>callback</l></list><l>let that = this;&#xD;&#xD;function run_callback(callback, args) {&#xD;  let stage = that.parentThatIsA(StageMorph);&#xD;  let proc = new Process();&#xD;  // let args = args;&#xD;  proc.initializeFor(callback, new List(args));&#xD;  stage.threads.processes.push(proc);&#xD;}&#xD;&#xD;if (window._handlePostMessage){&#xD;  return&#xD;  // window.removeEventListener(&apos;message&apos;, window._handlePostMessage);&#xD;}&#xD;&#xD;window._handlePostMessage = (event) =&gt; {&#xD;    console.log(&apos;Received message from iframe:&apos;, event.data);&#xD;    run_callback(callback, [event.data]);&#xD;}&#xD;&#xD;window.addEventListener(&apos;message&apos;, window._handlePostMessage);</l><comment w="90" collapsed="false">remix from iframe handle block</comment></block><list><block var="callback"/></list></block></script><scripts><script x="265.29411764705895" y="49.44705882352943"><block s="doSetVar"><l>_dynatalkMQTTHost</l><block var="host"/></block></script><script x="484.7058823529413" y="242.8392156862744"><custom-block s="ü™ü handle postMessage from iframe %br callback %cmdRing"><block s="reifyScript"><script><custom-block s="üí¨ _onMessage %s"><block var="payload"/></custom-block></script><list><l>payload</l></list></block></custom-block></script></scripts></block-definition><block-definition s="üí¨request %&apos;agent&apos; action %&apos;action&apos; args %&apos;args&apos; timeout %&apos;timeout&apos; s" type="reporter" category="üí¨dynatalk-over-postmessage"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">SnapAgent</input><input type="%s" initial="1">echo</input><input type="%l" initial="1"></input><input type="%s" initial="1">3</input></inputs><script><block s="doDeclareVariables"><list><l>message</l><l>msgID</l><l>fakePromise</l><l>begin</l></list></block><custom-block s="üí¨ _start listening for postmessage"></custom-block><block s="doSetVar"><l>message</l><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><l></l><block var="agent"/><block var="action"/><block var="args"/></custom-block></block><block s="doSetVar"><l>msgID</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>meta</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>id</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>fakePromise</l><block s="reportNewList"><list><block var="msgID"/><l></l><l></l></list></block></block><block s="doAddToList"><block var="fakePromise"/><block var="_dynatalkFakePromises"/></block><custom-block s="üí¨_send %s"><block var="message"/></custom-block><block s="doSetVar"><l>begin</l><block s="reportDate"><l><option>time in milliseconds</option></l></block></block><block s="doWaitUntil"><block s="reportVariadicOr"><list><block s="reportVariadicNotEquals"><list><block s="reportListItem"><l>2</l><block var="fakePromise"/></block><l></l></list></block><block s="reportVariadicGreaterThan"><list><block s="reportDifference"><block s="reportDate"><l><option>time in milliseconds</option></l></block><block var="begin"/></block><block s="reportVariadicProduct"><list><l>1000</l><block var="timeout"/></list></block></list></block></list></block></block><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>2</l><block var="fakePromise"/></block><l>[response]</l></list></block><script><block s="doReport"><block s="reportListItem"><l>3</l><block var="fakePromise"/></block></block></script><list><block s="reportVariadicEquals"><list><block s="reportListItem"><l>2</l><block var="fakePromise"/></block><l>[error]</l></list></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block s="reportListItem"><l>3</l><block var="fakePromise"/></block></list></block></script><l><bool>true</bool></l><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block s="reportJoinWords"><list><l>Timeout(</l><block var="timeout"/><l> s)</l></list></block></list></block></script></list></block></script></block-definition><block-definition s="üí¨_generateMessage parentID %&apos;parentID&apos; to %&apos;to&apos; actionName %&apos;action&apos; actionArgs %&apos;args&apos;" type="reporter" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>message</l></list></block><block s="doSetVar"><l>message</l><block s="reportNewList"><list><block s="reportNewList"><list><l>meta</l><block s="reportNewList"><list><block s="reportNewList"><list><l>id</l><block s="reportJoinWords"><list><custom-block s="üí¨agentName"></custom-block><l>-</l><block s="reportRandom"><l>1</l><l>100000000</l></block></list></block></list></block></list></block></list></block><block s="reportNewList"><list><l>from</l><custom-block s="üí¨agentName"></custom-block></list></block><block s="reportNewList"><list><l>to</l><block var="to"/></list></block><block s="reportNewList"><list><l>action</l><block s="reportNewList"><list><block s="reportNewList"><list><l>name</l><block var="action"/></list></block><block s="reportNewList"><list><l>args</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportIsA"><l></l><l><option>number</option></l></block><block s="reportVariadicSum"><list><l>0</l><l></l></list></block><l></l></block></autolambda><list></list></block><block var="args"/></block></list></block></list></block></list></block></list></block></block><block s="doIf"><block s="reportVariadicNotEquals"><list><block var="parentID"/><l></l></list></block><script><block s="doAddToList"><block s="reportNewList"><list><l>parent_id</l><block var="parentID"/></list></block><block s="reportListItem"><l>meta</l><block var="message"/></block></block></script><list></list></block><block s="doReport"><block var="message"/></block></script><scripts><script x="252.40925731169895" y="509.8461538461538"><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><l>123</l><l>agent</l><l>echo</l><block s="reportNewList"><list><l>1</l><l>2</l></list></block></custom-block></script><script x="242.9487179487181" y="557.1794871794872"><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><l></l><l>agent</l><l>echo</l><block s="reportNewList"><list><l>1</l><l>2</l></list></block></custom-block></script><script x="7.692307692307691" y="539.333333333333"><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>args</l><l></l></list></block></list></block></block></script></scripts></block-definition><block-definition s="üí¨sendTo %&apos;agent&apos; action %&apos;action&apos; args %&apos;args&apos;" type="command" category="üí¨dynatalk-over-postmessage"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">SnapAgent</input><input type="%s" initial="1">echo</input><input type="%l" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>message</l></list></block><block s="doSetVar"><l>message</l><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><l></l><block var="agent"/><block var="action"/><block var="args"/></custom-block></block><custom-block s="üí¨_send %s"><block var="message"/></custom-block></script></block-definition><block-definition s="üí¨broadcast %&apos;actionName&apos; %&apos;args&apos;" type="command" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">echo</input><input type="%l" initial="1"></input></inputs><script><custom-block s="üí¨sendTo %s action %s args %l"><l>[broadcast]</l><block var="actionName"/><block var="args"/></custom-block></script></block-definition><block-definition s="üí¨ actions" type="reporter" category="üí¨dynatalk-over-postmessage"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportNewList"><list><block s="reifyScript"><script><custom-block s="echo %s"><l></l></custom-block></script><list></list></block><block s="reifyScript"><script><custom-block s="add %s %s"><l></l><l></l></custom-block></script><list></list></block></list></block></block></script></block-definition><block-definition s="üí¨ respondWith %&apos;value&apos;" type="command" category="üí¨dynatalk-over-postmessage"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">aNumberOrAString</input></inputs><script><custom-block s="üí¨_send %s"><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><block s="reportListItem"><l>id</l><block s="reportListItem"><l>meta</l><block var="_dynatalkCurrentMessage"/></block></block><block s="reportListItem"><l>from</l><block var="_dynatalkCurrentMessage"/></block><l>[response]</l><block s="reportNewList"><list><block s="reportNewList"><list><l>value</l><block var="value"/></list></block></list></block></custom-block></custom-block></script></block-definition><block-definition s="üí¨ raiseWith %&apos;error&apos;" type="command" category="üí¨dynatalk-over-postmessage"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">aString</input></inputs><script><custom-block s="üí¨_send %s"><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><block s="reportListItem"><l>id</l><block s="reportListItem"><l>meta</l><block var="_dynatalkCurrentMessage"/></block></block><block s="reportListItem"><l>from</l><block var="_dynatalkCurrentMessage"/></block><l>[error]</l><block s="reportNewList"><list><block s="reportNewList"><list><l>error</l><block var="error"/></list></block></list></block></custom-block></custom-block></script></block-definition><block-definition s="echo %&apos;content&apos;" type="command" category="looks"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><custom-block s="üí¨ respondWith %s"><block var="content"/></custom-block><block s="doSayFor"><block var="content"/><l>2</l></block></script></block-definition><block-definition s="add %&apos;a&apos; %&apos;b&apos;" type="command" category="operators"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><custom-block s="üí¨ respondWith %s"><block s="reportVariadicSum"><list><block var="a"/><block var="b"/></list></block></custom-block></script></block-definition><block-definition s="üí¨_processPromises %&apos;message&apos;" type="command" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>action</l><l>parentID</l></list></block><block s="doSetVar"><l>action</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>name</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>parentID</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>meta</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>parent_id</l><l/></block></autolambda><list></list></block></list></block></block><custom-block s="üí¨ _debugLog %s"><l>_processPromises</l></custom-block><block s="doForEach"><l>fakePromise</l><block var="_dynatalkFakePromises"/><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="parentID"/><block s="reportListItem"><l>1</l><block var="fakePromise"/></block></list></block><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="action"/><l>[response]</l></list></block><script><block s="doReplaceInList"><l>2</l><block var="fakePromise"/><l>[response]</l></block><block s="doReplaceInList"><l>3</l><block var="fakePromise"/><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>value</l><l/></block></autolambda><list></list></block></list></block></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="action"/><l>[error]</l></list></block><script><block s="doReplaceInList"><l>2</l><block var="fakePromise"/><l>[error]</l></block><block s="doReplaceInList"><l>3</l><block var="fakePromise"/><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>error</l><l/></block></autolambda><list></list></block></list></block></block></script><list></list></block></script><list></list></block></script></block></script></block-definition><block-definition s="üí¨_send %&apos;message&apos;" type="command" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><custom-block s="üí¨ _debugLog %s"><l>send: </l></custom-block><custom-block s="üí¨ _debugLog %s"><block var="message"/></custom-block><custom-block s="ü™üpostMessage id %s msg %mlt"><block s="reportListItem"><l>to</l><block var="message"/></block><block s="reportListAttribute"><l><option>json</option></l><block var="message"/></block></custom-block></script></block-definition><block-definition s="üí¨ help" type="command" category="üí¨dynatalk-over-postmessage"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>help</l></list></block><block s="doSetVar"><l>help</l><custom-block s="multiline %mlt"><l>{&#xD;  "echo": {&#xD;    "description": "echo the content",&#xD;    "args": ["aString"]&#xD;  },&#xD;  "add": {&#xD;    "description": "add a and b",&#xD;    "args": ["aNumber","aNumber"]&#xD;  }&#xD;}</l></custom-block></block><custom-block s="üí¨ respondWith %s"><block s="reportTextSplit"><block s="reportJoinWords"><list><l>{"help": </l><block var="help"/><l>}</l></list></block><l><option>json</option></l></block></custom-block></script></block-definition><block-definition s="üí¨agentName" type="reporter" category="üí¨dynatalk-over-postmessage"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><l>SnapAgent</l></block></script></block-definition><block-definition s="ping" type="command" category="üí¨dynatalk-over-postmessage" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="üí¨ respondWith %s"><l>pong</l></custom-block></script></block-definition><block-definition s="üü£ tell %&apos;name&apos; to hide" type="command" category="üü£ Spline"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">pig</input></inputs><script><custom-block s="ü™üpostMessage id %s msg %mlt"><l>SplineWorld</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block var="name"/><l>visible</l><block s="reportBoolean"><l><bool>false</bool></l></block></list></block></block></custom-block></script></block-definition><block-definition s="üü£ tell %&apos;name&apos; to show" type="command" category="üü£ Spline"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">pig</input></inputs><script><custom-block s="ü™üpostMessage id %s msg %mlt"><l>SplineWorld</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block var="name"/><l>visible</l><block s="reportBoolean"><l><bool>true</bool></l></block></list></block></block></custom-block></script></block-definition><block-definition s="üü£ ask %&apos;name&apos; for %&apos;attribute&apos;" type="reporter" category="üü£ Spline"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">pig</input><input type="%s" readonly="true" initial="1">position<options>position&#xD;rotation&#xD;scale</options></input></inputs><script><block s="doReport"><custom-block s="üí¨request %s action %s args %l timeout %s s"><l>SplineWorld</l><l>get_attribute</l><block s="reportNewList"><list><block var="name"/><block var="attribute"/></list></block><l>3</l></custom-block></block></script></block-definition></blocks><stage name="Stage" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="2990"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAAAXNSR0IArs4c6QAADoVJREFUeF7t1cEJAAAIxDDdf2m3sJ+4wEEQuuMIECBAgACBd4F9XzRIgAABAgQIjAB7AgIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECByxcQFpoRMBzwAAAABJRU5ErkJggg==</pentrails><costumes><list struct="atomic" id="2991"></list></costumes><sounds><list struct="atomic" id="2992"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="Sprite" idx="1" x="-143.29170513898043" y="111.19723550569853" heading="90" scale="1" volume="100" pan="0" rotation="0" draggable="true" costume="0" color="0,29.17199999999997,132.6,1" pen="tip" id="2997"><costumes><list struct="atomic" id="2998"></list></costumes><sounds><list struct="atomic" id="2999"></list></sounds><blocks></blocks><variables></variables><scripts><script x="20" y="6.666666666666657"><custom-block s="üü£ open world url %s"><l>https://wwj718.github.io/Snap-Spline-Demo</l><comment w="216" collapsed="false">online:&#xD;https://wwj718.github.io/Snap-Spline-Demo/&#xD;dev:&#xD;http://localhost:3000/Snap-Spline-Demo/</comment></custom-block></script><script x="19.470588235294297" y="164.45098039215713"><custom-block s="üü£ tell %s to change %s by %s %br duration %n s"><l>pig</l><l>z</l><l>100</l><l>1</l></custom-block></script><script x="15.80392156862763" y="216.78431372549053"><custom-block s="üü£ tell %s to set size to %s % %br duration %n s"><l>pig</l><l>200</l><l>1</l></custom-block></script><script x="16.274509803921166" y="300.49673202614235"><block s="doForever"><script><custom-block s="üü£ tell %s to turn $turnLeft %s degrees %br duration %n s"><l>fan</l><l>90</l><l></l><comment w="177.64705882352942" collapsed="false">Âú®SplineÈ°πÁõÆ‰∏≠Êü•Áúã3DÂØπË±°ÂêçÂ≠ó:  https://app.spline.design/file/d3116a73-5d3f-4d78-98ad-46738716488f</comment></custom-block><custom-block s="üü£ tell %s to turn $turnRight %s degrees %br duration %n s"><l>fan</l><l>90</l><l></l></custom-block></script></block></script><script x="16.333333333333332" y="46.444444444444606"><custom-block s="üü£ tell %s to turn $turnLeft %s degrees %br duration %n s"><l>pig</l><l>180</l><l>1</l></custom-block></script><script x="15" y="103.44444444444453"><custom-block s="üü£ tell %s to turn $turnRight %s degrees %br duration %n s"><l>pig</l><l>90</l><l>1</l></custom-block></script><script x="16.333333333333332" y="267.00000000000034"><custom-block s="üü£ ask %s for %s"><l>pig</l><l>position</l></custom-block></script></scripts></sprite></sprites></stage><variables><variable name="_dynatalkLogs" hidden="true"><list struct="atomic" id="3037"></list></variable><variable name="_dynatalkCurrentMessage" hidden="true"><list id="3038"><item><list id="3039"><item><l>meta</l></item><item><list id="3040"><item><list struct="atomic" id="3041">id,7e7d7e47-72a8-4166-889a-7e48639d11af</list></item><item><list struct="atomic" id="3042">parent_id,SnapAgent-8821723</list></item></list></item></list></item><item><list struct="atomic" id="3043">from,SplineWorld</list></item><item><list struct="atomic" id="3044">to,SnapAgent</list></item><item><list id="3045"><item><l>action</l></item><item><list id="3046"><item><list struct="atomic" id="3047">name,[response]</list></item><item><list id="3048"><item><l>args</l></item><item><list id="3049"><item><list id="3050"><item><l>value</l></item><item><list struct="atomic" id="3051">0,29.77169120849841,0</list></item></list></item></list></item></list></item></list></item></list></item></list></variable><variable name="_dynatalkFakePromises" hidden="true"><list id="3052"><item><list id="3053"><item><l>SnapAgent-8821723</l></item><item><l>[response]</l></item><item><ref id="3051"></ref></item></list></item></list></variable><variable name="_dynatalkMQTTHost" hidden="true"><l>ws://127.0.0.1:15675</l></variable></variables></scene></scenes></project>