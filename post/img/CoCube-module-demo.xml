<project name="CoCube-module-demo" app="Snap! 10, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAAAyJJREFUeF7t1cEqLVoAx+GFIiUpEzMyJiFFSXEnJibe4zyBqWfwAlJm9xU8gicxMCBKbnad0xnc8f4N9rcne/jf67e+1p77/v7+Hj4KNAX+mQOwKW91UgBAENICAKb5jQPIQFoAwDS/cQAZSAsAmOY3DiADaQEA0/zGAWQgLQBgmt84gAykBQBM8xsHkIG0AIBpfuMAMpAWADDNbxxABtICAKb5jQPIQFoAwDS/cQAZSAsAmOY3DiADaQEA0/zGAWQgLQBgmt84gAykBQBM8xsHkIG0AIBpfuMAMpAWADDNbxxABtICAKb5jQPIQFoAwDS/cQAZSAsAmOY3DiADaQEA0/zGAWQgLQBgmt/49AB+fHyMpaUlyRX4u8D0AF5eXo7d3d1xdHQ0Li4uxurq6lhcXHQds11gegCfnp7G7e3t5BX8/Pwca2trY3t7e5ycnIyrq6uxsLAw21cxm6efHsCfvvf39+Ph4WEsLy//yf3+/j5eXl7G/v7+2Nvbm3z/vJQrKyuzeSWzderpAnx8fBx3d3djfX39T+af1/Dr62sCbmNjY1xfX4/T01N/z7MBcXoAn5+fx83NzQTW6+vreHt7G2dnZxNsOzs7Y3Nzc8zPz89Gdqf8XWB6AM/Pz8fBwcHY2toax8fH4/DwEDgQpwdQawX+pwCAWKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbQAgGl+4wAykBYAMM1vHEAG0gIApvmNA8hAWgDANL9xABlICwCY5jcOIANpAQDT/MYBZCAtAGCa3ziADKQFAEzzGweQgbTABOCv9CcYn+UC//4Hypgz+RaNzKQAAAAASUVORK5CYII=</thumbnail><scenes select="1"><scene name="CoCube-module-demo"><notes></notes><palette><category name="🚗 CoCube" color="10,218,255,1"/><category name="🪟 iframe" color="0,178,209,1"/><category name="MicroBlocks IDE" color="64,144,139,1"/><category name="💬dynatalk-over-ble" color="230,60,0,1"/></palette><hidden></hidden><headers></headers><code></code><blocks><block-definition s="multiline %&apos;text&apos;" type="reporter" category="operators"><header></header><code></code><translations>pt:o texto multilinha _&#xD;ca:multilínia _&#xD;</translations><inputs><input type="%mlt"></input></inputs><script><block s="doReport"><block var="text"/></block></script></block-definition><block-definition s="safely try %&apos;action&apos; then if %&apos;error&apos; %&apos;handler&apos;" type="command" category="control"><comment x="0" y="0" w="276" collapsed="false">Catch errors.&#xD;&#xD;Runs the first script.  If it succeeds, nothing else happens.&#xD;But if it has an error (something that would otherwise result&#xD;in a red halo around the block), then the second script is run,&#xD;with the text of the error message that would have been shown in the variable ERROR.</comment><header></header><code></code><translations>pt:tenta executar _ e, em caso de erro _ , executa _&#xD;ca:prova de forma segura _ i si _ _&#xD;</translations><inputs><input type="%cs"></input><input type="%upvar"></input><input type="%cs"></input></inputs><script><block s="doApplyExtension"><l>err_try(cmd, catch, err)</l><list><block var="action"/><block var="handler"/><block var="error"/></list></block><block s="doApplyExtension"><l>err_reset</l><list></list></block></script></block-definition><block-definition s="mb messages in %&apos;in&apos; matching %&apos;filter&apos;" type="reporter" category="other" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s">*</input></inputs><script><block s="doDeclareVariables"><list><l>result</l><l>len</l><l>i</l><l>msgLen</l><l>end</l><l>cmd</l><l>b2</l></list></block><block s="doSetVar"><l>result</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>len</l><block s="reportListAttribute"><l><option>length</option></l><block var="in"/></block></block><block s="doSetVar"><l>i</l><l>1</l></block><block s="doForever"><script><block s="doUntil"><block s="reportVariadicOr"><list><block s="reportVariadicGreaterThan"><list><block var="i"/><block var="len"/></list></block><block s="reportVariadicOr"><list><block s="reportVariadicEquals"><list><block s="reportListItem"><block var="i"/><block var="in"/></block><l>250</l></list></block><block s="reportVariadicEquals"><list><block s="reportListItem"><block var="i"/><block var="in"/></block><l>251</l></list></block></list></block></list></block><script><block s="doChangeVar"><l>i</l><l>1</l></block></script></block><block s="doIf"><block s="reportVariadicLessThan"><list><block s="reportDifference"><block var="len"/><block var="i"/></block><l>2</l></list></block><script><custom-block s="delete before %n of %l"><block var="i"/><block var="in"/></custom-block><block s="doReport"><block var="result"/></block></script><list></list></block><block s="doSetVar"><l>cmd</l><block s="reportListItem"><block s="reportVariadicSum"><list><block var="i"/><l>1</l></list></block><block var="in"/></block></block><block s="doIfElse"><block s="reportVariadicEquals"><list><block s="reportListItem"><block var="i"/><block var="in"/></block><l>250</l></list></block><script><block s="doIf"><block s="reportVariadicOr"><list><block s="reportNot"><block s="reportIsA"><block var="filter"/><l><option>number</option></l></block></block><block s="reportVariadicEquals"><list><block var="cmd"/><block var="filter"/></list></block></list></block><script><block s="doAddToList"><block s="reportListItem"><block s="reportNumbers"><block s="reportVariadicSum"><list><block var="i"/><l>1</l></list></block><block s="reportVariadicSum"><list><block var="i"/><l>2</l></list></block></block><block var="in"/></block><block var="result"/></block></script><list></list></block><block s="doChangeVar"><l>i</l><l>3</l></block></script><script><block s="doIfElse"><block s="reportVariadicAnd"><list><block s="reportVariadicEquals"><list><block s="reportListItem"><block var="i"/><block var="in"/></block><l>251</l></list></block><block s="reportVariadicGreaterThan"><list><block s="reportDifference"><block var="len"/><block var="i"/></block><l>3</l></list></block></list></block><script><block s="doSetVar"><l>msgLen</l><block s="reportVariadicSum"><list><block s="reportVariadicProduct"><list><l>256</l><block s="reportListItem"><block s="reportVariadicSum"><list><block var="i"/><l>4</l></list></block><block var="in"/></block></list></block><block s="reportListItem"><block s="reportVariadicSum"><list><block var="i"/><l>3</l></list></block><block var="in"/></block></list></block></block><block s="doSetVar"><l>end</l><block s="reportVariadicSum"><list><block s="reportVariadicSum"><list><block var="i"/><l>4</l></list></block><block var="msgLen"/></list></block></block><block s="doIf"><block s="reportVariadicGreaterThan"><list><block var="end"/><block var="len"/></list></block><script><custom-block s="delete before %n of %l"><block var="i"/><block var="in"/></custom-block><block s="doReport"><block var="result"/></block></script><list></list></block><block s="doIf"><block s="reportVariadicOr"><list><block s="reportNot"><block s="reportIsA"><block var="filter"/><l><option>number</option></l></block></block><block s="reportVariadicEquals"><list><block var="cmd"/><block var="filter"/></list></block></list></block><script><block s="doAddToList"><block s="reportListItem"><block s="reportNumbers"><block s="reportVariadicSum"><list><block var="i"/><l>1</l></list></block><block var="end"/></block><block var="in"/></block><block var="result"/></block></script><list></list></block><block s="doSetVar"><l>i</l><block s="reportVariadicSum"><list><block var="end"/><l>1</l></list></block></block></script><script><custom-block s="delete before %n of %l"><block var="i"/><block var="in"/></custom-block><block s="doReport"><block var="result"/></block></script></block></script></block></script></block></script></block-definition><block-definition s="delete before %&apos;index&apos; of %&apos;list&apos;" type="command" category="lists" helper="true"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%l"></input></inputs><script><block s="doWarp"><script><block s="doRepeat"><block s="reportDifference"><block var="index"/><l>1</l></block><script><block s="doDeleteFromList"><l>1</l><block var="list"/></block></script></block></script></block></script></block-definition><block-definition s="🚗 open MicroBlocks project" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 打开 MicroBlocks 项目&#xD;</translations><inputs></inputs><script><custom-block s="🥕 把项目 URL 设定为 %txt"><l>https://microblocksfun.cn/run/microblocks.html#project=https://wwj718.github.io/post/img/CoCube-module-server-dynatalk-v1.ubp</l></custom-block><custom-block s="🥕 显示 MicroBlocks IDE %b"><l><bool>true</bool></l></custom-block></script></block-definition><block-definition s="🚗 connect" type="command" category="🚗 CoCube" space="true"><header></header><code></code><translations>zh_CN:🚗 连接&#xD;</translations><inputs></inputs><script><block s="doIf"><custom-block s="🚗 is connected?"></custom-block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><l>设备已连接</l></list></block></script><list></list></block><block s="doDeclareVariables"><list><l>on_disconnect</l><l>notify_callback</l></list></block><block s="doSetVar"><l>_CoCube_ble_buffer</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>_dynatalkFakePromises</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>on_disconnect</l><block s="reifyScript"><script><block s="doApplyExtension"><l>ide_show_message(message, secs)</l><list><l>MicroBlocks 设备断开连接 !</l><l>2</l></list></block></script><list></list></block></block><custom-block s="safely try %cs then if %upvar %cs"><script><block s="doSetVar"><l>_CoCube_ble_server</l><block s="reportApplyExtension"><l>ble_connect(onDisconnected, options)</l><list><block var="on_disconnect"/><custom-block s="multiline %mlt"><l>{&#xD;    "filters": [&#xD;        {&#xD;            "services": ["bb37a001-b922-4018-8e74-e14824b3a638"]&#xD;        }&#xD;    ]&#xD;}</l></custom-block></list></block></block></script><l>error</l><script><block s="doApplyExtension"><l>err_error(msg)</l><list><l>连接错误</l></list></block></script></custom-block><block s="doSetVar"><l>notify_callback</l><block s="reifyScript"><script><block s="doDeclareVariables"><list><l>buffer_length</l><l>max_length</l></list></block><block s="doSetVar"><l>max_length</l><block s="reportVariadicProduct"><list><l>3</l><l>20</l><l>31</l></list></block></block><block s="doSetVar"><l>buffer_length</l><block s="reportListAttribute"><l><option>length</option></l><block var="_CoCube_ble_buffer"/></block></block><block s="doSetVar"><l>_CoCube_ble_notify_datas</l><block var="msg"/></block><block s="doSetVar"><l>_CoCube_ble_buffer</l><block s="reportConcatenatedLists"><list><block s="reportIfElse"><block s="reportVariadicGreaterThan"><list><block var="buffer_length"/><block var="max_length"/></list></block><block s="reportListItem"><block s="reportNumbers"><block s="reportVariadicSum"><list><block s="reportDifference"><block var="buffer_length"/><block var="max_length"/></block><l>1</l></list></block><block var="buffer_length"/></block><block var="_CoCube_ble_buffer"/></block><block var="_CoCube_ble_buffer"/></block><block var="msg"/></list></block></block><custom-block s="🚗 messages do %upvar %cs"><l>_msg</l><script><block s="doDeclareVariables"><list><l>mb_msg</l><l>parent_id</l><l>value</l><l>fake_payload</l></list></block><block s="doSetVar"><l>mb_msg</l><block s="reportTextSplit"><block var="_msg"/><l>,</l></block></block><block s="doIf"><block s="reportVariadicAnd"><list><block s="reportIsA"><block var="mb_msg"/><l><option>list</option></l></block><block s="reportVariadicEquals"><list><block s="reportListItem"><l>1</l><block var="mb_msg"/></block><l>[response]</l></list></block></list></block><script><block s="doSetVar"><l>parent_id</l><block s="reportListItem"><l>2</l><block var="mb_msg"/></block></block><block s="doSetVar"><l>value</l><block s="reportListItem"><l>3</l><block var="mb_msg"/></block></block><block s="doSetVar"><l>fake_payload</l><custom-block s="💬_generateMessage parentID %s to %s actionName %s actionArgs %s"><block var="parent_id"/><l>SnapAgent</l><l>[response]</l><block s="reportNewList"><list><block s="reportNewList"><list><l>value</l><block var="value"/></list></block></list></block></custom-block></block><custom-block s="💬 _onMessage %s"><block s="reportListAttribute"><l><option>json</option></l><block var="fake_payload"/></block><comment w="90" collapsed="false">fake response&#xD;</comment></custom-block></script><list></list></block></script></custom-block></script><list><l>msg</l></list></block></block><block s="doApplyExtension"><l>ble_notify(server, serviceUuid, characteristicUuid, callback)</l><list><block var="_CoCube_ble_server"/><l>bb37a001-b922-4018-8e74-e14824b3a638</l><l>bb37a003-b922-4018-8e74-e14824b3a638</l><block var="notify_callback"/></list></block></script><scripts><script x="575.7516276041669" y="488.2166666666665"><block var="_CoCube_ble_buffer"/></script></scripts></block-definition><block-definition s="🚗 updateing status" type="command" category="🚗 CoCube" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>_CoCube_ble_buffer</l><block s="reportNewList"><list></list></block></block><block s="doIf"><block s="reportNot"><custom-block s="🚗 is connected?"></custom-block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><l>设备未连接</l></list></block></script><list></list></block><block s="doForever"><script><block s="doWait"><l>0.01</l></block><custom-block s="🚗 messages do %upvar %cs"><l>msg</l><script><block s="doDeclareVariables"><list><l>mb_msg</l></list></block><block s="doSetVar"><l>mb_msg</l><block s="reportTextSplit"><block var="msg"/><l>,</l></block></block><block s="doIf"><block s="reportVariadicAnd"><list><block s="reportIsA"><block var="mb_msg"/><l><option>list</option></l></block><block s="reportVariadicEquals"><list><block s="reportListItem"><l>1</l><block var="mb_msg"/></block><l>status</l></list></block></list></block><script><block s="doSetVar"><l>_CoCube_status</l><block s="reportCDR"><block var="mb_msg"/></block></block></script><list></list></block></script></custom-block></script></block></script></block-definition><block-definition s="🚗 is connected?" type="predicate" category="🚗 CoCube"><comment x="0" y="0" w="90" collapsed="false">是否与 MicroBlocks 设备建立了连接?</comment><header></header><code></code><translations>zh_CN:🚗 已连接?&#xD;</translations><inputs></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>ble_connected(server)</l><list><block var="_CoCube_ble_server"/></list></block></block></script></block-definition><block-definition s="🚗 disconnect" type="command" category="🚗 CoCube"><comment x="0" y="0" w="90" collapsed="false">断开与 MicroBlocks 设备的连接</comment><header></header><code></code><translations>zh_CN:🚗 断开连接&#xD;</translations><inputs></inputs><script><block s="doIf"><block s="reportNot"><custom-block s="🚗 is connected?"></custom-block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><l>设备未连接</l></list></block></script><list></list></block><block s="doApplyExtension"><l>ble_disconnect(server)</l><list><block var="_CoCube_ble_server"/></list></block></script></block-definition><block-definition s="🚗 battery" type="reporter" category="🚗 CoCube" space="true"><header></header><code></code><translations>zh_CN:🚗 电量&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Battery Percentage</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 x position" type="reporter" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 x坐标&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>position_X</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script><scripts><comment x="96.82714843749993" y="86.99999999999999" w="163.75" collapsed="false">call, &lt;msg-id&gt;, position_X,</comment></scripts></block-definition><block-definition s="🚗 y position" type="reporter" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 y坐标&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>position_Y</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 direction" type="reporter" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 方向&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>position_Yaw</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 send %&apos;aString&apos;" type="command" category="🚗 CoCube" helper="true"><comment x="0" y="0" w="217.6994791666667" collapsed="false">给 MicroBlocks 设备发送消息</comment><header></header><code></code><translations>zh_CN:🚗 广播 _&#xD;</translations><inputs><input type="%s"></input></inputs><script><block s="doIf"><block s="reportNot"><custom-block s="🚗 is connected?"></custom-block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><l>设备未连接</l></list></block></script><list></list></block><block s="doDeclareVariables"><list><l>len</l><l>bytes</l></list></block><block s="doWarp"><script><block s="doSetVar"><l>len</l><block s="reportVariadicSum"><list><block s="reportTextAttribute"><l><option>length</option></l><block var="aString"/></block><l>1</l></list></block></block><block s="doSetVar"><l>bytes</l><block s="reportNewList"><list><l>251</l><l>27</l><l>0</l><block s="reportModulus"><block var="len"/><l>256</l></block><block s="reportMonadic"><l><option>floor</option></l><block s="reportQuotient"><block var="len"/><l>256</l></block></block></list></block></block><block s="doForEach"><l>i</l><block s="reportNumbers"><l>1</l><block s="reportTextAttribute"><l><option>length</option></l><block var="aString"/></block></block><script><block s="doAddToList"><block s="reportUnicode"><block s="reportLetter"><block var="i"/><block var="aString"/></block></block><block var="bytes"/></block></script></block><block s="doAddToList"><l>254</l><block var="bytes"/></block></script></block><block s="doApplyExtension"><l>ble_write(server, serviceUuid, characteristicUuid, bytes)</l><list><block var="_CoCube_ble_server"/><l>bb37a001-b922-4018-8e74-e14824b3a638</l><l>bb37a002-b922-4018-8e74-e14824b3a638</l><block var="bytes"/></list></block></script></block-definition><block-definition s="🚗 messages do %&apos;msg&apos; %&apos;cmds&apos;" type="command" category="🚗 CoCube" helper="true"><comment x="0" y="0" w="90" collapsed="false">接收来自 MicroBlocks 设备的消息</comment><header></header><code></code><translations>zh_CN:🚗 消息处理 _ _&#xD;</translations><inputs><input type="%upvar"></input><input type="%cs"></input></inputs><script><block s="doIf"><block s="reportNot"><custom-block s="🚗 is connected?"></custom-block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><l>设备未连接</l></list></block></script><list></list></block><block s="doDeclareVariables"><list><l>msgType</l><l>len</l></list></block><block s="doWarp"><script><block s="doForEach"><l>msgBytes</l><custom-block s="mb messages in %s matching %s"><block var="_CoCube_ble_buffer"/><l>27</l></custom-block><script><block s="doSetVar"><l>len</l><block s="reportListAttribute"><l><option>length</option></l><block var="msgBytes"/></block></block><block s="doIf"><block s="reportVariadicGreaterThan"><list><block var="len"/><l>4</l></list></block><script><block s="doSetVar"><l>msg</l><block s="reportListItem"><block s="reportNumbers"><l>5</l><block var="len"/></block><block var="msgBytes"/></block><comment w="126.00000000000004" collapsed="true">Extract message body</comment></block><block s="doSetVar"><l>msg</l><block s="reportJoinWords"><list><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportUnicodeAsLetter"><l></l></block></autolambda><list></list></block><block var="msg"/></block></list></block><comment w="125" collapsed="true">Convert bytes to text</comment></block><block s="doRun"><block var="cmds"/><list></list><comment w="180" collapsed="true">Run commands with current msg</comment></block></script><list></list></block></script><comment w="161.99999999999997" collapsed="true">For each broadcast message:</comment></block></script></block></script></block-definition><block-definition s="🚗 set TFT backlight %&apos;x&apos;" type="command" category="🚗 CoCube" space="true"><header></header><code></code><translations>zh_CN:🚗 设置 TFT 背光 _&#xD;</translations><inputs><input type="%b" initial="1">false</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>set TFT backlight</l><block s="reportNewList"><list><block var="x"/></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 draw Aruco Marker on TFT %&apos;n&apos;" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 TFT 绘制 ArUco 标签 _&#xD;</translations><inputs><input type="%n" initial="1">0</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>draw Aruco Marker on TFT</l><block s="reportNewList"><list><block var="n"/></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 draw AprilTag on TFT %&apos;n&apos;" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 TFT 绘制 AprilTags 标签 _&#xD;</translations><inputs><input type="%n" initial="1">0</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>draw AprilTag on TFT</l><block s="reportNewList"><list><block var="n"/></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 control left motor %&apos;n&apos;" type="command" category="🚗 CoCube" space="true"><header></header><code></code><translations>zh_CN:🚗 控制左电机 _&#xD;</translations><inputs><input type="%n" initial="1">50</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>ControlLeftMotor</l><block s="reportNewList"><list><block var="n"/></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 control right motor %&apos;n&apos;" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 控制右电机 _&#xD;</translations><inputs><input type="%n" initial="1">50</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>ControlRightMotor</l><block s="reportNewList"><list><block var="n"/></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 move forward %&apos;n&apos;" type="command" category="🚗 CoCube" space="true"><header></header><code></code><translations>zh_CN:🚗 前进 _&#xD;</translations><inputs><input type="%n" initial="1">50</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Move Forward</l><block s="reportNewList"><list><block var="n"/></list></block><l>3</l></custom-block></block></script><scripts><comment x="60.77695312499998" y="107.31249999999984" w="217.33333333333334" collapsed="false">call, &lt;msg-id&gt;, Move Forward, 50</comment></scripts></block-definition><block-definition s="🚗 move backword %&apos;n&apos;" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 后退 _&#xD;</translations><inputs><input type="%n" initial="1">50</input></inputs><script><custom-block s="🚗 move forward %n"><block s="reportVariadicProduct"><list><l>-1</l><block var="n"/></list></block></custom-block></script></block-definition><block-definition s="🚗 turn left %&apos;n&apos;" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 左转 _&#xD;</translations><inputs><input type="%n" initial="1">10</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Turn Left</l><block s="reportNewList"><list><block var="n"/></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 turn right %&apos;n&apos;" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 右转 _&#xD;</translations><inputs><input type="%n" initial="1">10</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Turn Right</l><block s="reportNewList"><list><block var="n"/></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 motor stop" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 电机停转&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Motor Stop</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🪟 _load js/css" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/iframe/jquery-3.7.1.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/iframe/jquery-ui.js</l></list></block></script><scripts><script x="89.80952380952385" y="423.95873015873013"><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://code.jquery.com/jquery-3.7.1.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://code.jquery.com/ui/1.13.3/jquery-ui.js</l></list></block></script></scripts></block-definition><block-definition s="🪟 create id %&apos;id&apos; url %&apos;url&apos;" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input><input type="%s" initial="1"></input></inputs><script><block s="doSetVar"><l>__module__iframe__</l><l>libraries/iframe/init.js</l></block><custom-block s="🪟 _load js/css"></custom-block><block s="doApplyExtension"><l>iframe_create(iframe_container_id, iframe_id, url)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block><custom-block s="🪟_iframe_id %s"><block var="id"/></custom-block><block var="url"/></list></block></script><scripts><comment x="327.88183593749966" y="12.133333333333347" w="149.33333333333334" collapsed="false">press escape key or close button to hide it</comment></scripts></block-definition><block-definition s="🪟 set id %&apos;id&apos; width %&apos;width&apos; height %&apos;height&apos; left %&apos;left&apos; top %&apos;top&apos;" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input><input type="%s" initial="1">480px</input><input type="%s" initial="1">360px</input><input type="%s" initial="1">920px</input><input type="%s" initial="1">20px</input></inputs><script><block s="doApplyExtension"><l>iframe_set(iframe_container_id, width, height, left, top)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block><block var="width"/><block var="height"/><block var="left"/><block var="top"/></list></block></script></block-definition><block-definition s="🪟 show id %&apos;id&apos;" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doApplyExtension"><l>iframe_show(iframe_container_id)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block></list></block></script></block-definition><block-definition s="🪟 $fullScreen id %&apos;id&apos;" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doDeclareVariables"><list><l>padding</l><l>width</l><l>height</l><l>left</l><l>top</l></list></block><block s="doSetVar"><l>padding</l><l>10</l></block><block s="doSetVar"><l>left</l><block var="padding"/></block><block s="doSetVar"><l>top</l><block var="padding"/></block><block s="doSetVar"><l>width</l><block s="reportDifference"><custom-block s="🪟_window %s"><l>width</l></custom-block><block s="reportVariadicProduct"><list><l>4</l><block var="padding"/></list></block></block></block><block s="doSetVar"><l>height</l><block s="reportDifference"><custom-block s="🪟_window %s"><l>height</l></custom-block><block s="reportVariadicProduct"><list><l>4</l><block var="padding"/></list></block></block></block><custom-block s="🪟 set id %s width %s height %s left %s top %s"><block var="id"/><block s="reportJoinWords"><list><block var="width"/><l>px</l></list></block><block s="reportJoinWords"><list><block var="height"/><l>px</l></list></block><block s="reportJoinWords"><list><block var="left"/><l>px</l></list></block><block s="reportJoinWords"><list><block var="top"/><l>px</l></list></block></custom-block></script></block-definition><block-definition s="🪟 hide id %&apos;id&apos;" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doApplyExtension"><l>iframe_hide(iframe_container_id)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block></list></block></script></block-definition><block-definition s="🪟 delete id %&apos;id&apos;" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doApplyExtension"><l>iframe_delete(iframe_container_id)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block></list></block></script></block-definition><block-definition s="🪟 set attribute %&apos;attribute&apos; to %&apos;value&apos;" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>attribute</l><l>value</l></list><l>let iframe_resizable = document.getElementById(&apos;myiframe&apos;)&#xD;if (iframe_resizable){iframe_resizable[attribute] = value }</l></block><list><block var="attribute"/><block var="value"/></list></block></script></block-definition><block-definition s="🪟postMessage id %&apos;id&apos; msg %&apos;msg&apos;" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input><input type="%mlt" initial="1"></input></inputs><script><block s="doApplyExtension"><l>iframe_postMessage(iframe_id, msg)</l><list><custom-block s="🪟_iframe_id %s"><block var="id"/></custom-block><block var="msg"/></list></block></script></block-definition><block-definition s="🪟_iframe_id %&apos;id&apos;" type="reporter" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doReport"><block s="reportJoinWords"><list><l>snap_iframe_</l><block var="id"/></list></block></block></script></block-definition><block-definition s="🪟_iframe_container_id %&apos;id&apos;" type="reporter" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doReport"><block s="reportJoinWords"><list><l>snap_iframe_container_</l><block var="id"/></list></block></block></script></block-definition><block-definition s="🪟 handle postMessage from iframe $nl callback %&apos;callback&apos;" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%cmdRing" initial="1"></input></inputs><script><block s="doApplyExtension"><l>iframe_handlePostMessage(callback)</l><list><block var="callback"/></list></block></script></block-definition><block-definition s="🪟_window %&apos;x&apos;" type="reporter" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true" initial="1">width<options>width&#xD;height</options></input></inputs><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="x"/><l>width</l></list></block><script><block s="doReport"><block s="reportListItem"><l>1</l><block s="reportApplyExtension"><l>iframe_windowSize()</l><list></list></block></block></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="x"/><l>height</l></list></block><script><block s="doReport"><block s="reportListItem"><l>2</l><block s="reportApplyExtension"><l>iframe_windowSize()</l><list></list></block></block></block></script><list></list></block></script></block-definition><block-definition s="🥕 把项目 URL 设定为 %&apos;url&apos;" type="command" category="MicroBlocks IDE" helper="true"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doIf"><block s="reportVariadicNotEquals"><list><block var="url"/><l></l></list></block><script><block s="doIf"><block s="reportVariadicNotEquals"><list><block var="url"/><block var="_microblocks_ide_url"/></list></block><script><custom-block s="🪟 delete id %s"><l>microblocks</l></custom-block></script><list></list></block><block s="doSetVar"><l>_microblocks_ide_url</l><block var="url"/></block></script><list></list></block></script><scripts><script x="255.16734269086052" y="40.85294117647057"><block var="url"/></script></scripts></block-definition><block-definition s="🥕 显示 MicroBlocks IDE %&apos;doOpen&apos;" type="command" category="MicroBlocks IDE" helper="true"><header></header><code></code><translations></translations><inputs><input type="%b">true</input></inputs><script><block s="doIf"><block s="reportNot"><custom-block s="🪟 exist id %s"><l>microblocks</l></custom-block></block><script><custom-block s="🪟 create id %s url %s"><l>microblocks</l><block var="_microblocks_ide_url"/></custom-block><custom-block s="🪟 set id %s width %s height %s left %s top %s"><l>microblocks</l><l>900px</l><l>450px</l><l>300px</l><l>20px</l></custom-block></script><list></list></block><block s="doIf"><block var="doOpen"/><script><custom-block s="🪟 show id %s"><l>microblocks</l></custom-block></script><list><l><bool>true</bool></l><script><custom-block s="🪟 hide id %s"><l>microblocks</l></custom-block></script></list></block></script></block-definition><block-definition s="🪟 exist id %&apos;id&apos;" type="reporter" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>iframe_exist(iframe_container_id)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block></list></block></block></script></block-definition><block-definition s="🚗 send command %&apos;function_name&apos; %&apos;parameter list&apos;" type="command" category="🚗 CoCube" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%l" initial="1"></input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><block var="function_name"/><block var="parameter list"/><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 request %&apos;agent&apos; action %&apos;action&apos; args %&apos;args&apos; timeout %&apos;timeout&apos; s" type="reporter" category="🚗 CoCube" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">SnapAgent</input><input type="%s" initial="1">echo</input><input type="%l" initial="1"></input><input type="%s" initial="1">3</input></inputs><script><block s="doIf"><block s="reportNot"><custom-block s="🚗 is connected?"></custom-block></block><script><block s="doReport"><l></l></block></script><list></list></block><block s="doDeclareVariables"><list><l>message</l><l>msgID</l><l>fakePromise</l><l>begin</l></list></block><block s="doSetVar"><l>message</l><custom-block s="💬_generateMessage parentID %s to %s actionName %s actionArgs %s"><l></l><block var="agent"/><block var="action"/><block var="args"/></custom-block></block><block s="doSetVar"><l>msgID</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>meta</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>id</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>fakePromise</l><block s="reportNewList"><list><block var="msgID"/><l></l><l></l></list></block></block><block s="doAddToList"><block var="fakePromise"/><block var="_dynatalkFakePromises"/></block><custom-block s="🚗 send %s %s %s %l"><block s="reportListItem"><l>to</l><block var="message"/></block><block s="reportListItem"><l>id</l><block s="reportListItem"><l>meta</l><block var="message"/></block></block><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>name</l><l/></block></autolambda><list></list></block></list></block><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block></list></block></custom-block><block s="doSetVar"><l>begin</l><block s="reportDate"><l><option>time in milliseconds</option></l></block></block><block s="doWaitUntil"><block s="reportVariadicOr"><list><block s="reportVariadicNotEquals"><list><block s="reportListItem"><l>2</l><block var="fakePromise"/></block><l></l></list></block><block s="reportVariadicGreaterThan"><list><block s="reportDifference"><block s="reportDate"><l><option>time in milliseconds</option></l></block><block var="begin"/></block><block s="reportVariadicProduct"><list><l>1000</l><block var="timeout"/></list></block></list></block></list></block></block><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>2</l><block var="fakePromise"/></block><l>[response]</l></list></block><script><block s="doReport"><block s="reportListItem"><l>3</l><block var="fakePromise"/></block></block></script><list><block s="reportVariadicEquals"><list><block s="reportListItem"><l>2</l><block var="fakePromise"/></block><l>[error]</l></list></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block s="reportListItem"><l>3</l><block var="fakePromise"/></block></list></block></script><l><bool>true</bool></l><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block s="reportJoinWords"><list><l>Timeout(</l><block var="timeout"/><l> s)</l></list></block></list></block></script></list></block></script></block-definition><block-definition s="💬_generateMessage parentID %&apos;parentID&apos; to %&apos;to&apos; actionName %&apos;action&apos; actionArgs %&apos;args&apos;" type="reporter" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>message</l></list></block><block s="doSetVar"><l>message</l><block s="reportNewList"><list><block s="reportNewList"><list><l>meta</l><block s="reportNewList"><list><block s="reportNewList"><list><l>id</l><block s="reportJoinWords"><list><custom-block s="💬agentName"></custom-block><l>-</l><block s="reportRandom"><l>1</l><l>100000000</l></block></list></block></list></block></list></block></list></block><block s="reportNewList"><list><l>from</l><custom-block s="💬agentName"></custom-block></list></block><block s="reportNewList"><list><l>to</l><block var="to"/></list></block><block s="reportNewList"><list><l>action</l><block s="reportNewList"><list><block s="reportNewList"><list><l>name</l><block var="action"/></list></block><block s="reportNewList"><list><l>args</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportIsA"><l></l><l><option>number</option></l></block><block s="reportVariadicSum"><list><l>0</l><l></l></list></block><l></l></block></autolambda><list></list></block><block var="args"/></block></list></block></list></block></list></block></list></block></block><block s="doIf"><block s="reportVariadicNotEquals"><list><block var="parentID"/><l></l></list></block><script><block s="doAddToList"><block s="reportNewList"><list><l>parent_id</l><block var="parentID"/></list></block><block s="reportListItem"><l>meta</l><block var="message"/></block></block></script><list></list></block><block s="doReport"><block var="message"/></block></script><scripts><script x="252.40925731169895" y="509.8461538461538"><custom-block s="💬_generateMessage parentID %s to %s actionName %s actionArgs %s"><l>123</l><l>agent</l><l>echo</l><block s="reportNewList"><list><l>1</l><l>2</l></list></block></custom-block></script><script x="242.9487179487181" y="557.1794871794872"><custom-block s="💬_generateMessage parentID %s to %s actionName %s actionArgs %s"><l></l><l>agent</l><l>echo</l><block s="reportNewList"><list><l>1</l><l>2</l></list></block></custom-block></script><script x="7.692307692307691" y="539.333333333333"><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>args</l><l></l></list></block></list></block></block></script></scripts></block-definition><block-definition s="💬agentName" type="reporter" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><l>SnapAgent</l></block></script></block-definition><block-definition s="💬 _onMessage %&apos;payload&apos;" type="command" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>message</l></list></block><custom-block s="💬 _debugLog %s"><l>_onMessage</l></custom-block><custom-block s="💬 _debugLog %s"><block var="payload"/></custom-block><custom-block s="safely try %cs then if %upvar %cs"><script><block s="doSetVar"><l>message</l><block s="reportTextSplit"><block var="payload"/><l><option>json</option></l></block></block><block s="doIf"><block s="reportVariadicOr"><list><block s="reportVariadicEquals"><list><block s="reportListItem"><l>to</l><block var="message"/></block><l>SnapAgent</l></list></block><block s="reportVariadicEquals"><list><block s="reportListItem"><l>to</l><block var="message"/></block><l>[broadcast]</l></list></block></list></block><script><custom-block s="💬 _interpret %s"><block var="message"/></custom-block></script><list></list></block></script><l>error</l><script></script></custom-block></script></block-definition><block-definition s="💬 _interpret %&apos;message&apos;" type="command" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>action</l><l>args</l><l>actionExist?</l></list></block><block s="doSetVar"><l>actionExist?</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><block s="doSetVar"><l>_dynatalkCurrentMessage</l><block var="message"/></block><block s="doSetVar"><l>action</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>name</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>args</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block></list></block></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="action"/><l>[response]</l></list></block><script><custom-block s="💬_processPromises %s"><block var="message"/></custom-block></script><list><block s="reportVariadicEquals"><list><block var="action"/><l>[error]</l></list></block><script><custom-block s="💬_processPromises %s"><block var="message"/></custom-block></script><l><bool>true</bool></l><script><block s="doForEach"><l>item</l><block s="reportConcatenatedLists"><list><custom-block s="💬 actions"></custom-block><block s="reportNewList"><list><block s="reifyScript"><script><custom-block s="💬 help"></custom-block></script><list></list></block><block s="reifyScript"><script><custom-block s="ping"></custom-block></script><list></list></block></list></block></list></block><script><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>1</l><block s="reportTextSplit"><block s="reportBlockAttribute"><l><option>label</option></l><block var="item"/></block><l> </l></block></block><block var="action"/></list></block><script><custom-block s="💬 _debugLog %s"><l>run it!</l></custom-block><block s="doSetVar"><l>actionExist?</l><block s="reportBoolean"><l><bool>true</bool></l></block></block><block s="doRun"><block var="item"/><block var="args"/></block></script><list></list></block></script></block><block s="doIf"><block s="reportNot"><block var="actionExist?"/></block><script><custom-block s="💬 raiseWith %s"><block s="reportJoinWords"><list><l>Message Not Understood: </l><custom-block s="💬agentName"></custom-block><l>&gt;&gt;</l><block var="action"/></list></block></custom-block></script><list></list></block></script></list></block></script><scripts><script x="454.2307692307692" y="427.8525641025642"><block s="evaluate"><block s="reifyReporter"><autolambda><block s="xPosition"></block></autolambda><list></list></block><list><l></l></list></block></script><comment x="387.6923076923076" y="182.8461538461539" w="200.7692307692308" collapsed="false">{&#xD;  &quot;meta&quot;: {&#xD;    &quot;id&quot;: &quot;817411a0-cdd3-4372-a8d5-361e17440301&quot;&#xD;  },&#xD;  &quot;from&quot;: &quot;User&quot;,&#xD;  &quot;to&quot;: &quot;SnapAgent&quot;,&#xD;  &quot;action&quot;: {&#xD;    &quot;name&quot;: &quot;echo&quot;,&#xD;    &quot;args&quot;: [&quot;hi&quot;]&#xD;  }&#xD;}</comment><script x="202.69230769230774" y="623.1121794871801"><block s="doSetVar"><l>test</l><block s="reportListItem"><l>1</l><custom-block s="💬 actions"></custom-block></block></block><block s="bubble"><block s="reportListItem"><l>1</l><block s="reportTextSplit"><block s="reportBlockAttribute"><l><option>label</option></l><block var="test"/></block><l> </l></block></block></block></script><script x="413.3307542067309" y="606.4198717948723"><block var="item"/></script><script x="249.2307692307692" y="267.9743589743595"><custom-block s="💬 _debugLog %s"><l>args:</l></custom-block><custom-block s="💬 _debugLog %s"><block var="args"/></custom-block></script></scripts></block-definition><block-definition s="💬 actions" type="reporter" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportNewList"><list><block s="reifyScript"><script><custom-block s="echo %s"><l></l></custom-block></script><list></list></block><block s="reifyScript"><script><custom-block s="add %s %s"><l></l><l></l></custom-block></script><list></list></block></list></block></block></script></block-definition><block-definition s="echo %&apos;content&apos;" type="command" category="💬dynatalk-over-ble" helper="true" space="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><custom-block s="💬 respondWith %s"><block var="content"/></custom-block><block s="doSayFor"><block var="content"/><l>2</l></block></script></block-definition><block-definition s="💬 respondWith %&apos;value&apos;" type="command" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">aNumberOrAString</input></inputs><script><custom-block s="💬_send %s"><custom-block s="💬_generateMessage parentID %s to %s actionName %s actionArgs %s"><block s="reportListItem"><l>id</l><block s="reportListItem"><l>meta</l><block var="_dynatalkCurrentMessage"/></block></block><block s="reportListItem"><l>from</l><block var="_dynatalkCurrentMessage"/></block><l>[response]</l><block s="reportNewList"><list><block s="reportNewList"><list><l>value</l><block var="value"/></list></block></list></block></custom-block></custom-block></script></block-definition><block-definition s="💬_send %&apos;message&apos;" type="command" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><custom-block s="💬 _debugLog %s"><l>send: </l></custom-block><custom-block s="💬 _debugLog %s"><block var="message"/></custom-block><custom-block s="🚗 send %s %s %s %l"><block s="reportListItem"><l>to</l><block var="message"/></block><block s="reportListItem"><l>id</l><block s="reportListItem"><l>meta</l><block var="message"/></block></block><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>name</l><l/></block></autolambda><list></list></block></list></block><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block></list></block></custom-block></script></block-definition><block-definition s="🚗 send %&apos;type&apos; %&apos;msg_id&apos; %&apos;function_name&apos; %&apos;parameter list&apos;" type="command" category="🚗 CoCube" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%l" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>msg</l></list></block><block s="doSetVar"><l>parameter list</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportIsA"><block var="v"/><l><option>text</option></l></block><block s="reportJoinWords"><list><l>"</l><block var="v"/><l>"</l></list></block><block var="v"/></block></autolambda><list><l>v</l></list></block><block var="parameter list"/></block></block><block s="doIf"><block s="reportVariadicNotEquals"><list><block var="function_name"/><l></l></list></block><script><block s="doSetVar"><l>msg</l><block s="reportJoinWords"><list><block var="type"/><l>,</l><block var="msg_id"/><l>,</l><block var="function_name"/><l>,</l><block s="reportCombine"><block var="parameter list"/><block s="reifyReporter"><autolambda><block s="reportJoinWords"><list><l></l><l>,</l><l></l></list></block></autolambda><list></list></block></block></list></block></block><custom-block s="🚗 send %s"><block var="msg"/></custom-block></script><list></list></block></script><scripts><comment x="261.08515624999995" y="287.4999999999998" w="201.99999999999997" collapsed="false">call, &lt;msg-id&gt;, block_or_primitive_name + args</comment></scripts></block-definition><block-definition s="💬 _debugLog %&apos;x&apos;" type="command" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doIf"><custom-block s="💬 _debugging"></custom-block><script><block s="doAddToList"><block var="x"/><block var="_dynatalkLogs"/></block></script><list></list></block></script><scripts><script x="187.3076923076923" y="106.46153846153796"><block s="reportJoinWords"><list><l>hello </l><l>world</l></list></block></script><script x="185.7692307692308" y="142.3589743589744"><block s="reportNewList"><list><l></l><l></l></list></block></script></scripts></block-definition><block-definition s="💬 _debugging" type="reporter" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block-definition><block-definition s="add %&apos;a&apos; %&apos;b&apos;" type="command" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><custom-block s="💬 respondWith %s"><block s="reportVariadicSum"><list><block var="a"/><block var="b"/></list></block></custom-block></script></block-definition><block-definition s="💬_processPromises %&apos;message&apos;" type="command" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>action</l><l>parentID</l></list></block><block s="doSetVar"><l>action</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>name</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>parentID</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>meta</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>parent_id</l><l/></block></autolambda><list></list></block></list></block></block><custom-block s="💬 _debugLog %s"><l>_processPromises</l></custom-block><block s="doForEach"><l>fakePromise</l><block var="_dynatalkFakePromises"/><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="parentID"/><block s="reportListItem"><l>1</l><block var="fakePromise"/></block></list></block><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="action"/><l>[response]</l></list></block><script><block s="doReplaceInList"><l>2</l><block var="fakePromise"/><l>[response]</l></block><block s="doReplaceInList"><l>3</l><block var="fakePromise"/><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>value</l><l/></block></autolambda><list></list></block></list></block></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="action"/><l>[error]</l></list></block><script><block s="doReplaceInList"><l>2</l><block var="fakePromise"/><l>[error]</l></block><block s="doReplaceInList"><l>3</l><block var="fakePromise"/><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>error</l><l/></block></autolambda><list></list></block></list></block></block></script><list></list></block></script><list></list></block></script></block></script></block-definition><block-definition s="💬 help" type="command" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>help</l></list></block><block s="doSetVar"><l>help</l><custom-block s="multiline %mlt"><l>{&#xD;  "echo": {&#xD;    "description": "echo the content",&#xD;    "args": ["aString"]&#xD;  },&#xD;  "add": {&#xD;    "description": "add a and b",&#xD;    "args": ["aNumber","aNumber"]&#xD;  }&#xD;}</l></custom-block></block><custom-block s="💬 respondWith %s"><block s="reportTextSplit"><block s="reportJoinWords"><list><l>{"help": </l><block var="help"/><l>}</l></list></block><l><option>json</option></l></block></custom-block></script></block-definition><block-definition s="ping" type="command" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="💬 respondWith %s"><l>pong</l></custom-block></script></block-definition><block-definition s="💬 raiseWith %&apos;error&apos;" type="command" category="💬dynatalk-over-ble" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">aString</input></inputs><script><custom-block s="💬_send %s"><custom-block s="💬_generateMessage parentID %s to %s actionName %s actionArgs %s"><block s="reportListItem"><l>id</l><block s="reportListItem"><l>meta</l><block var="_dynatalkCurrentMessage"/></block></block><block s="reportListItem"><l>from</l><block var="_dynatalkCurrentMessage"/></block><l>[error]</l><block s="reportNewList"><list><block s="reportNewList"><list><l>error</l><block var="error"/></list></block></list></block></custom-block></custom-block></script></block-definition><block-definition s="🚗 motor break" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 电机刹车&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Motor Break</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 rotate to angle %&apos;angle&apos; speed %&apos;speed&apos;" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 转向角度 _ 速度 _&#xD;</translations><inputs><input type="%n" initial="1">0</input><input type="%n" initial="1">10</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>blocking_call</l><l>Rotate to Angle</l><block s="reportNewList"><list><block var="angle"/><block var="speed"/></list></block><l>10</l></custom-block></block></script></block-definition><block-definition s="🚗 rotate to target x %&apos;x&apos; y %&apos;y&apos; speed %&apos;speed&apos;" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 转向目标点 x _ y _ 速度 _&#xD;</translations><inputs><input type="%n" initial="1">10</input><input type="%n" initial="1">10</input><input type="%n" initial="1">50</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>blocking_call</l><l>Rotate to Target</l><block s="reportNewList"><list><block var="x"/><block var="y"/><block var="speed"/></list></block><l>10</l></custom-block></block></script></block-definition><block-definition s="🚗 move to target x %&apos;x&apos; y %&apos;y&apos; speed %&apos;speed&apos;" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 移动到目标点 x _ y _ 速度 _&#xD;</translations><inputs><input type="%n" initial="1">10</input><input type="%n" initial="1">10</input><input type="%n" initial="1">10</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>blocking_call</l><l>Move to Target X _ Y _ Speed _</l><block s="reportNewList"><list><block var="x"/><block var="y"/><block var="speed"/></list></block><l>30</l></custom-block></block></script></block-definition><block-definition s="🚗 _convert %&apos;x&apos; to MciroBlocks string" type="reporter" category="🚗 CoCube" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doIf"><block s="reportVariadicNotEquals"><list><block s="reportLetter"><l>1</l><block var="x"/></block><l>"</l></list></block><script><block s="doReport"><block s="reportJoinWords"><list><l>"</l><block var="x"/><l>"</l></list></block></block></script><list><l><bool>true</bool></l><script><block s="doReport"><block var="x"/></block></script></list></block></script></block-definition><block-definition s="🚗 power on module" type="command" category="🚗 CoCube" space="true"><header></header><code></code><translations>zh_CN:🚗 开启外接模块电源&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Power on module</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 power off module" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 关闭外接模块电源&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Power off module</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 gripper open" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 夹爪张开&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Gripper Open</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 gripper close" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 夹爪闭合&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Gripper Close</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 gripper degrees %&apos;n&apos; (-70-0)" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 夹爪角度 _ (-70-0)&#xD;</translations><inputs><input type="%n" initial="1">0</input></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Gripper degree</l><block s="reportNewList"><list><block var="n"/></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 attach NeoPixel" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 连接 NeoPixel&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>attach NeoPixel</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 set all NeoPixel color %&apos;color&apos;" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 设置所有 NeoPixel 的颜色为 _&#xD;</translations><inputs><input type="%clr" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>r</l><l>g</l><l>b</l><l>color_num</l></list></block><block s="doChangeVar"><l>r</l><block s="reportListItem"><l>1</l><custom-block s="🚗_color_to_rgb %clr"><block var="color"/></custom-block></block></block><block s="doChangeVar"><l>g</l><block s="reportListItem"><l>2</l><custom-block s="🚗_color_to_rgb %clr"><block var="color"/></custom-block></block></block><block s="doChangeVar"><l>b</l><block s="reportListItem"><l>3</l><custom-block s="🚗_color_to_rgb %clr"><block var="color"/></custom-block></block></block><block s="doSetVar"><l>color_num</l><block s="reportApplyExtension"><l>bit_or(a, b)</l><list><block s="reportApplyExtension"><l>bit_or(a, b)</l><list><block s="reportApplyExtension"><l>bit_left_shift(a, b)</l><list><block var="r"/><l>16</l></list></block><block s="reportApplyExtension"><l>bit_left_shift(a, b)</l><list><block var="g"/><l>8</l></list></block></list></block><block var="b"/></list></block></block><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>set all NeoPixels color</l><block s="reportNewList"><list><block var="color_num"/></list></block><l>3</l></custom-block></block></script><scripts><script x="66" y="328.3333333333334"><block s="bubble"><block var="color_num"/></block></script></scripts></block-definition><block-definition s="🚗 clear NeoPixel" type="command" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 关闭 NeoPixel&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>clear NeoPixels</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 Ultrasonic distance (cm)" type="reporter" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 超声波 距离(cm)&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Ultrasonic distance (cm)</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗 Ambient Light" type="reporter" category="🚗 CoCube"><header></header><code></code><translations>zh_CN:🚗 环境光强&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="🚗 request %s action %s args %l timeout %s s"><l>call</l><l>Ambient Light</l><block s="reportNewList"><list></list></block><l>3</l></custom-block></block></script></block-definition><block-definition s="🚗_color_to_rgb %&apos;COLOR&apos;" type="reporter" category="🚗 CoCube" helper="true"><header></header><code></code><translations></translations><inputs><input type="%clr" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>color</l></list></block><block s="doSetVar"><l>color</l><block s="reportTextSplit"><block s="reportJoinWords"><list><block s="reportKeep"><block s="reifyPredicate"><autolambda><block s="reportVariadicOr"><list><block s="reportIsA"><l></l><l><option>number</option></l></block><block s="reportVariadicEquals"><list><l></l><l>,</l></list></block></list></block></autolambda><list></list></block><block s="reportTextSplit"><block s="reportJoinWords"><list><block var="COLOR"/></list></block><l><option>letter</option></l></block></block></list></block><l>,</l></block></block><block s="doReport"><block s="reportNewList"><list><block s="reportListItem"><l>1</l><block var="color"/></block><block s="reportListItem"><l>2</l><block var="color"/></block><block s="reportListItem"><l>3</l><block var="color"/></block></list></block></block></script></block-definition></blocks><primitives></primitives><stage name="舞台" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="2704"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAAAXNSR0IArs4c6QAADoVJREFUeF7t1cEJAAAIxDDdf2m3sJ+4wEEQuuMIECBAgACBd4F9XzRIgAABAgQIjAB7AgIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECByxcQFpoRMBzwAAAABJRU5ErkJggg==</pentrails><costumes><list struct="atomic" id="2705"></list></costumes><sounds><list struct="atomic" id="2706"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="角色" idx="1" x="-131.4425427872862" y="35.20782396088002" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="2711"><costumes><list struct="atomic" id="2712"></list></costumes><sounds><list struct="atomic" id="2713"></list></sounds><blocks></blocks><variables></variables><scripts><script x="11.333333333333334" y="6.666666666666667"><custom-block s="🚗 set all NeoPixel color %clr"><color>145,26,68,1</color></custom-block></script></scripts></sprite></sprites></stage><variables><variable name="_CoCube_ble_server" hidden="true"><l>0</l></variable><variable name="_CoCube_ble_buffer" hidden="true"><list struct="atomic" id="2720"></list></variable><variable name="_CoCube_ble_notify_datas" hidden="true"><list struct="atomic" id="2721">250,26,0</list></variable><variable name="_CoCube_status"><list struct="atomic" linked="linked" id="2722">1281,290,227,62</list></variable><variable name="__module__iframe__" hidden="true"><l>libraries/iframe/init.js</l></variable><variable name="_microblocks_ide_url" hidden="true"><l>https://microblocksfun.cn/run/microblocks.html#project=https://wwj718.github.io/post/img/CoCube-module-server-dynatalk-v1.ubp</l></variable><variable name="_dynatalkFakePromises" hidden="true"><list id="2723"><item><list struct="atomic" id="2724">SnapAgent-9521158,[response],0</list></item><item><list struct="atomic" id="2725">SnapAgent-53666528,[response],0</list></item><item><list struct="atomic" id="2726">SnapAgent-82330156,[response],0</list></item><item><list struct="atomic" id="2727">SnapAgent-73810249,[response],0</list></item><item><list struct="atomic" id="2728">SnapAgent-57020403,[response],0</list></item><item><list struct="atomic" id="2729">SnapAgent-77610182,[response],0</list></item><item><list struct="atomic" id="2730">SnapAgent-27588057,[response],0</list></item><item><list struct="atomic" id="2731">SnapAgent-72654709,[response],0</list></item><item><list struct="atomic" id="2732">SnapAgent-57763195,[response],0</list></item><item><list struct="atomic" id="2733">SnapAgent-97561136,[response],0</list></item><item><list struct="atomic" id="2734">SnapAgent-77850907,[response],0</list></item><item><list struct="atomic" id="2735">SnapAgent-12915269,[response],0</list></item><item><list struct="atomic" id="2736">SnapAgent-107594,[response],0</list></item><item><list struct="atomic" id="2737">SnapAgent-40146753,[response],0</list></item><item><list struct="atomic" id="2738">SnapAgent-18685990,[response],0</list></item><item><list struct="atomic" id="2739">SnapAgent-90763377,[response],0</list></item><item><list struct="atomic" id="2740">SnapAgent-6943534,[response],0</list></item><item><list struct="atomic" id="2741">SnapAgent-37366500,[response],0</list></item><item><list struct="atomic" id="2742">SnapAgent-57969150,[response],0</list></item><item><list struct="atomic" id="2743">SnapAgent-52420268,[response],0</list></item><item><list struct="atomic" id="2744">SnapAgent-25522434,[response],0</list></item><item><list struct="atomic" id="2745">SnapAgent-53597042,[response],0</list></item><item><list struct="atomic" id="2746">SnapAgent-53167820,[response],0</list></item><item><list struct="atomic" id="2747">SnapAgent-96874765,[response],0</list></item><item><list struct="atomic" id="2748">SnapAgent-64927688,[response],65535</list></item><item><list struct="atomic" id="2749">SnapAgent-96901425,[response],65535</list></item><item><list struct="atomic" id="2750">SnapAgent-55972193,[response],65535</list></item><item><list struct="atomic" id="2751">SnapAgent-17646543,[response],210</list></item><item><list struct="atomic" id="2752">SnapAgent-84652245,[response],238</list></item><item><list struct="atomic" id="2753">SnapAgent-49126715,[response],238</list></item><item><list struct="atomic" id="2754">SnapAgent-59017515,[response],238</list></item><item><list struct="atomic" id="2755">SnapAgent-446165,[response],238</list></item><item><list struct="atomic" id="2756">SnapAgent-1452866,[response],238</list></item><item><list struct="atomic" id="2757">SnapAgent-28409866,[response],238</list></item><item><list struct="atomic" id="2758">SnapAgent-96831991,[response],238</list></item><item><list struct="atomic" id="2759">SnapAgent-64936716,[response],238</list></item><item><list struct="atomic" id="2760">SnapAgent-84248744,[response],238</list></item><item><list struct="atomic" id="2761">SnapAgent-31925649,[response],238</list></item><item><list struct="atomic" id="2762">SnapAgent-76222849,[response],238</list></item><item><list struct="atomic" id="2763">SnapAgent-78536232,[response],238</list></item><item><list struct="atomic" id="2764">SnapAgent-86830346,[response],238</list></item><item><list struct="atomic" id="2765">SnapAgent-15733931,[response],238</list></item><item><list struct="atomic" id="2766">SnapAgent-94461215,[response],0</list></item><item><list struct="atomic" id="2767">SnapAgent-49456674,[response],238</list></item><item><list struct="atomic" id="2768">SnapAgent-48366528,[response],238</list></item><item><list struct="atomic" id="2769">SnapAgent-51900104,[response],238</list></item><item><list struct="atomic" id="2770">SnapAgent-82150669,[response],238</list></item><item><list struct="atomic" id="2771">SnapAgent-41241865,[response],238</list></item><item><list struct="atomic" id="2772">SnapAgent-50230158,[response],238</list></item><item><list struct="atomic" id="2773">SnapAgent-83683736,[response],244</list></item><item><list struct="atomic" id="2774">SnapAgent-75171973,[response],244</list></item><item><list struct="atomic" id="2775">SnapAgent-42476326,[response],244</list></item><item><list struct="atomic" id="2776">SnapAgent-1772139,[response],244</list></item><item><list struct="atomic" id="2777">SnapAgent-83685126,[response],244</list></item><item><list struct="atomic" id="2778">SnapAgent-54261347,[response],244</list></item><item><list struct="atomic" id="2779">SnapAgent-10295111,[response],244</list></item><item><list struct="atomic" id="2780">SnapAgent-15553377,[response],244</list></item><item><list struct="atomic" id="2781">SnapAgent-13119562,[response],65535</list></item><item><list struct="atomic" id="2782">SnapAgent-53935146,[response],0</list></item><item><list struct="atomic" id="2783">SnapAgent-56999259,[response],0</list></item><item><list struct="atomic" id="2784">SnapAgent-18189476,[response],244</list></item><item><list struct="atomic" id="2785">SnapAgent-33138005,[response],244</list></item><item><list struct="atomic" id="2786">SnapAgent-28650115,[response],63</list></item><item><list struct="atomic" id="2787">SnapAgent-41005094,[response],63</list></item><item><list struct="atomic" id="2788">SnapAgent-70060118,[response],63</list></item><item><list struct="atomic" id="2789">SnapAgent-81707041,[response],63</list></item><item><list struct="atomic" id="2790">SnapAgent-14465556,[response],63</list></item><item><list struct="atomic" id="2791">SnapAgent-65618581,[response],63</list></item><item><list struct="atomic" id="2792">SnapAgent-11611704,[response],63</list></item><item><list struct="atomic" id="2793">SnapAgent-7637957,[response],63</list></item><item><list struct="atomic" id="2794">SnapAgent-5696882,[response],63</list></item><item><list struct="atomic" id="2795">SnapAgent-60810807,[response],63</list></item><item><list struct="atomic" id="2796">SnapAgent-63836258,[response],63</list></item><item><list struct="atomic" id="2797">SnapAgent-56411379,[response],63</list></item><item><list struct="atomic" id="2798">SnapAgent-72228977,[response],63</list></item><item><list struct="atomic" id="2799">SnapAgent-29716148,[response],0</list></item><item><list struct="atomic" id="2800">SnapAgent-38653465,[response],0</list></item><item><list struct="atomic" id="2801">SnapAgent-38651506,[response],0</list></item><item><list struct="atomic" id="2802">SnapAgent-42609250,[response],0</list></item><item><list struct="atomic" id="2803">SnapAgent-79508178,[response],0</list></item><item><list struct="atomic" id="2804">SnapAgent-70237418,[response],0</list></item><item><list struct="atomic" id="2805">SnapAgent-77233527,[response],0</list></item><item><list struct="atomic" id="2806">SnapAgent-66493785,[response],0</list></item><item><list struct="atomic" id="2807">SnapAgent-63465697,[response],0</list></item><item><list struct="atomic" id="2808">SnapAgent-18295661,[response],0</list></item><item><list struct="atomic" id="2809">SnapAgent-48698080,[response],0</list></item><item><list struct="atomic" id="2810">SnapAgent-73340646,[response],0</list></item><item><list struct="atomic" id="2811">SnapAgent-82765524,[response],0</list></item><item><list struct="atomic" id="2812">SnapAgent-33879219,[response],0</list></item><item><list struct="atomic" id="2813">SnapAgent-30523424,[response],0</list></item><item><list struct="atomic" id="2814">SnapAgent-65162212,[response],0</list></item><item><list struct="atomic" id="2815">SnapAgent-49459641,[response],0</list></item><item><list struct="atomic" id="2816">SnapAgent-22041278,[response],63</list></item><item><list struct="atomic" id="2817">SnapAgent-6410760,[response],63</list></item><item><list struct="atomic" id="2818">SnapAgent-46382373,[response],63</list></item><item><list struct="atomic" id="2819">SnapAgent-15172015,[response],63</list></item><item><list struct="atomic" id="2820">SnapAgent-56796415,[response],63</list></item><item><list struct="atomic" id="2821">SnapAgent-64994339,[response],63</list></item><item><list struct="atomic" id="2822">SnapAgent-24213715,[response],63</list></item><item><list struct="atomic" id="2823">SnapAgent-75758865,[response],63</list></item><item><list struct="atomic" id="2824">SnapAgent-22603095,[response],63</list></item><item><list struct="atomic" id="2825">SnapAgent-34596498,[response],63</list></item></list></variable><variable name="_dynatalkLogs" hidden="true"><list struct="atomic" id="2826"></list></variable><variable name="_dynatalkCurrentMessage" hidden="true"><list id="2827"><item><list id="2828"><item><l>meta</l></item><item><list id="2829"><item><list struct="atomic" id="2830">id,SnapAgent-50565996</list></item><item><list struct="atomic" id="2831">parent_id,SnapAgent-34596498</list></item></list></item></list></item><item><list struct="atomic" id="2832">from,SnapAgent</list></item><item><list struct="atomic" id="2833">to,SnapAgent</list></item><item><list id="2834"><item><l>action</l></item><item><list id="2835"><item><list struct="atomic" id="2836">name,[response]</list></item><item><list id="2837"><item><l>args</l></item><item><list id="2838"><item><list struct="atomic" id="2839">value,63</list></item></list></item></list></item></list></item></list></item></list></variable></variables></scene></scenes></project>