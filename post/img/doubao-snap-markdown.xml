<project name="doubao-snap-markdown" app="Snap! 10.1-dev, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,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</thumbnail><scenes select="1"><scene name="doubao-snap-markdown"><notes></notes><palette><category name="豆包" color="22,100,255,1"/><category name="🪟 iframe" color="0,116,143,1"/></palette><hidden></hidden><headers></headers><code></code><blocks><block-definition s="🫘 clear messages" type="command" category="豆包"><header></header><code></code><translations>zh_CN:🫘清空对话&#xD;</translations><inputs></inputs><script><block s="doSetVar"><l>doubao_messages</l><block s="reportNewList"><list></list></block></block></script></block-definition><block-definition s="🫘 豆包 对话 $nl 提示词 %&apos;prompt&apos; $nl 视觉 %&apos;vision&apos; $nl 临时对话? %&apos;temporary&apos; $nl 密钥 %&apos;token&apos; $nl 模型 %&apos;model&apos;" type="reporter" category="豆包"><header></header><code></code><translations>zh_CN:🫘豆包对话 $nl 提示词 _ $nl 视觉 _ $nl 临时对话 _ $nl 密钥 _&#xD;</translations><inputs><input type="%mlt" initial="1">你好</input><input type="%s" readonly="true" initial="1">None<options>IDE&#xD;Stage&#xD;Camera&#xD;*Scripting Area&#xD;*Palette&#xD;None</options></input><input type="%b" initial="1">true</input><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>_reply</l><l>input_image</l><l>_model</l></list></block><block s="doSetVar"><l>_reply</l><block s="reportNewList"><list></list></block></block><block s="doIf"><block var="temporary"/><script><block s="doDeclareVariables"><list><l>doubao_messages</l></list></block><block s="doSetVar"><l>doubao_messages</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="vision"/><l>None</l></list><comment w="123.84615384615385" collapsed="false">None 不是图片消息</comment></block><script><block s="doAddToList"><custom-block s="text message %br role %s %br %br text %s"><l>user</l><block var="prompt"/></custom-block><block var="doubao_messages"/></block></script><list><l><bool>true</bool></l><script><block s="doTellTo"><l>AI Assistant</l><block s="reifyScript"><script><block s="hide"></block></script><list></list></block><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="vision"/><l>IDE</l></list></block><script><block s="doSetVar"><l>input_image</l><block s="reportApplyExtension"><l>elite_ide2base64()</l><list></list></block></block></script><list><block s="reportVariadicEquals"><list><block var="vision"/><l>Stage</l></list></block><script><block s="doSetVar"><l>input_image</l><block s="reportApplyExtension"><l>elite_object2base64(obj)</l><list><block s="reportGet"><l><option>stage</option></l></block></list></block></block></script><block s="reportVariadicEquals"><list><block var="vision"/><l>Camera</l></list></block><script><block s="doSetVar"><l>input_image</l><block s="reportApplyExtension"><l>elite_object2base64(obj)</l><list><block s="reportVideo"><l><option>snap</option></l><l>Stage</l></block></list></block></block></script><l><bool>true</bool></l><script><block s="doTellTo"><l>AI Assistant</l><block s="reifyScript"><script><block s="show"></block></script><list></list></block><list></list><comment w="90" collapsed="false">只在 ai assistant 模式下使用</comment></block><block s="doApplyExtension"><l>err_error(msg)</l><list><l>Not yet implemented</l></list></block></script></list></block><block s="doAddToList"><custom-block s="image message %br role %s %br image url %s %br text %s"><l>user</l><block var="input_image"/><block var="prompt"/></custom-block><block var="doubao_messages"/></block><block s="doTellTo"><l>AI Assistant</l><block s="reifyScript"><script><block s="show"></block></script><list></list></block><list></list></block></script></list></block><custom-block s="safely try %cs then if %upvar %cs"><script><block s="doSetVar"><l>_reply</l><custom-block s="_chat proxy %br token %s %br model %s %br messages %l %br"><block var="token"/><block var="model"/><block var="doubao_messages"/></custom-block></block><block s="doAddToList"><custom-block s="text message %br role %s %br %br text %s"><l>assistant</l><block s="reportJoinWords"><block var="_reply"/></block></custom-block><block var="doubao_messages"/></block><block s="doReport"><block s="reportPipe"><block s="reportTextSplit"><block var="_reply"/><l><option>json</option></l></block><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>choices</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>message</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>content</l><l/></block></autolambda><list></list></block></list></block></block></script><l>error</l><script><custom-block s="error %txt"><block var="_reply"/></custom-block></script></custom-block></script><scripts><comment x="455.0516927083333" y="90.80000000000003" w="328" collapsed="false">文档 &#xD;https://www.volcengine.com/docs/82379/1330626 兼容 OpenAI API&#xD;&#xD;提醒:  需要代理服务器, 否则会出现 CORS 错误, OpenAI 没有这个问题</comment><comment x="378.1033854166665" y="675.2444444444444" w="158" collapsed="false">06b60ccd-cd69-45ad-887b-090a68e9b5ff</comment><script x="399.3333333333333" y="954.4166666666662"><block s="doSetVar"><l>delta_callback</l><block s="reifyScript"><script><block s="doAddToList"><block var="delta"/><block var="_reply"/></block><block s="doRun"><block var="callback"/><list><block s="reportJoinWords"><block var="_reply"/></block></list></block></script><list><l>delta</l></list></block></block><block s="doApplyExtension"><l>gpt4o_streamCompletions(messages, callback)</l><list><block s="reportListAttribute"><l><option>json</option></l><block var="doubao_messages"/></block><block var="delta_callback"/></list></block></script></scripts></block-definition><block-definition s="🫘 豆包 文生图 $nl 提示词 %&apos;prompt&apos; $nl 宽度 %&apos;width&apos; (256-768) $nl 高度 %&apos;height&apos; (256-768) $nl Access Key %&apos;AccessKey&apos; $nl Secret Key %&apos;SecretKey&apos;" type="reporter" category="豆包" space="true"><comment x="0" y="0" w="232" collapsed="false">文档 &#xD;https://www.volcengine.com/docs/6791/1339374&#xD;参数的作用, 参考这个文档&#xD;</comment><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">魔法书上放着一根魔杖, 书的封面写着 CodeLab</input><input type="%s" initial="1">512</input><input type="%s" initial="1">512</input><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>_reply</l></list></block><custom-block s="safely try %cs then if %upvar %cs"><script><block s="doSetVar"><l>_reply</l><custom-block s="_gen img proxy %br Access Key %s %br Secret Key %s %br prompt %s %br width %s %br height %s"><block var="AccessKey"/><block var="SecretKey"/><block var="prompt"/><block var="width"/><block var="height"/></custom-block></block><block s="doReport"><block s="reportApplyExtension"><l>cst_load(url)</l><list><block s="reportJoinWords"><list><l>data:image/jpeg;base64,</l><block s="reportPipe"><block s="reportTextSplit"><block var="_reply"/><l><option>json</option></l></block><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>data</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>binary_data_base64</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block></list></block></list><comment w="90" collapsed="true">img.crossOrigin = &quot;Anonymous&quot; 对 github 有效，对 openai 图片url无效&#xD;对于openai-api，使用base64更好</comment></block></list></block></block></script><l>error</l><script><custom-block s="error %txt"><block var="_reply"/></custom-block></script></custom-block></script><scripts><script x="228.66666666666683" y="559.0000000000001"><block s="doReport"><block var="_payload"/></block></script></scripts></block-definition><block-definition s="safely try %&apos;action&apos; then if %&apos;error&apos; %&apos;handler&apos;" type="command" category="control"><comment x="0" y="0" w="276" collapsed="false">Catch errors.&#xD;&#xD;Runs the first script.  If it succeeds, nothing else happens.&#xD;But if it has an error (something that would otherwise result&#xD;in a red halo around the block), then the second script is run,&#xD;with the text of the error message that would have been shown in the variable ERROR.</comment><header></header><code></code><translations>pt:tenta executar _ e, em caso de erro _ , executa _&#xD;ca:prova de forma segura _ i si _ _&#xD;pl:bezpiecznie spróbuj _ a jeśli _ _&#xD;</translations><inputs><input type="%cs"></input><input type="%upvar"></input><input type="%cs"></input></inputs><script><block s="doApplyExtension"><l>err_try(cmd, catch, err)</l><list><block var="action"/><block var="handler"/><block var="error"/></list></block><block s="doApplyExtension"><l>err_reset</l><list></list></block></script></block-definition><block-definition s="_chat proxy $nl token %&apos;token&apos; $nl model %&apos;model&apos; $nl messages %&apos;messages&apos; $nl" type="reporter" category="豆包" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1">ep-20241214222829-4b7n6</input><input type="%l" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>_reply</l><l>_proxy_url</l><l>_target_url</l><l>dev</l></list></block><block s="doSetVar"><l>_target_url</l><l>https://ark.cn-beijing.volces.com/api/v3/chat/completions</l></block><block s="doSetVar"><l>dev</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><block s="doIf"><block var="dev"/><script><block s="doSetVar"><l>_proxy_url</l><l>http://127.0.0.1:5001/proxy/chat</l></block></script><list><l><bool>true</bool></l><script><block s="doSetVar"><l>_proxy_url</l><l>https://snap.codelab.club/proxy/chat</l><comment w="203.33333333333334" collapsed="true">http://127.0.0.1:5001/proxy/chat&#xD;http://127.0.0.1:5000/api/v3/chat/completions&#xD;</comment></block></script></list></block><block s="doSetVar"><l>_reply</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>POST</l><block var="_proxy_url"/><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>model</l><block var="model"/></list></block><block s="reportNewList"><list><l>messages</l><block var="messages"/></list></block></list></block></block><list><block s="reportNewList"><list><l>Content-Type</l><l>application/json</l></list></block><block s="reportNewList"><list><l>authorization</l><block s="reportJoinWords"><list><l>Bearer</l><l> </l><block var="token"/></list></block></list></block><block s="reportNewList"><list><l>Target-Url</l><block var="_target_url"/></list></block></list></custom-block></block><block s="doReport"><block var="_reply"/></block></script></block-definition><block-definition s="_gen img proxy $nl Access Key %&apos;AccessKey&apos; $nl Secret Key %&apos;SecretKey&apos; $nl prompt %&apos;prompt&apos; $nl width %&apos;width&apos; $nl height %&apos;height&apos;" type="reporter" category="豆包" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>_reply</l><l>_proxy_url</l><l>_payload</l><l>_AccessKey</l><l>_SecretKey</l><l>dev</l></list></block><block s="doSetVar"><l>dev</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><block s="doIf"><block var="dev"/><script><block s="doSetVar"><l>_proxy_url</l><l>http://127.0.0.1:5001/proxy/gen_img</l></block></script><list><l><bool>true</bool></l><script><block s="doSetVar"><l>_proxy_url</l><l>https://snap.codelab.club/proxy/gen_img</l><comment w="203.33333333333334" collapsed="true">http://127.0.0.1:5001/proxy/chat&#xD;http://127.0.0.1:5000/api/v3/chat/completions&#xD;</comment></block></script></list></block><block s="doSetVar"><l>_payload</l><block s="reportNewList"><list><block s="reportNewList"><list><l>req_key</l><l>high_aes_general_v20_L</l></list></block><block s="reportNewList"><list><l>prompt</l><block var="prompt"/></list></block><block s="reportNewList"><list><l>model_version</l><l>general_v2.0_L</l></list></block><block s="reportNewList"><list><l>req_schedule_conf</l><l>general_v20_9B_rephraser</l></list></block><block s="reportNewList"><list><l>seed</l><block s="reportVariadicSum"><list><l>0</l><l>-1</l></list></block></list></block><block s="reportNewList"><list><l>scale</l><block s="reportVariadicSum"><list><l>0</l><l>3.5</l></list></block></list></block><block s="reportNewList"><list><l>ddim_steps</l><block s="reportVariadicSum"><list><l>0</l><l>16</l></list></block></list></block><block s="reportNewList"><list><l>width</l><block s="reportVariadicSum"><list><l>0</l><block var="width"/></list></block></list></block><block s="reportNewList"><list><l>height</l><block s="reportVariadicSum"><list><l>0</l><block var="height"/></list></block></list></block><block s="reportNewList"><list><l>use_sr</l><block s="reportBoolean"><l><bool>true</bool></l></block></list></block><block s="reportNewList"><list><l>return_url</l><block s="reportBoolean"><l><bool>false</bool></l></block></list></block><block s="reportNewList"><list><l>logo_info</l><block s="reportNewList"><list><block s="reportNewList"><list><l>add_logo</l><block s="reportBoolean"><l><bool>false</bool></l></block></list></block><block s="reportNewList"><list><l>position</l><block s="reportVariadicSum"><list><l>0</l><l>0</l></list></block></list></block><block s="reportNewList"><list><l>language</l><block s="reportVariadicSum"><list><l>0</l><l>0</l></list></block></list></block><block s="reportNewList"><list><l>opacity</l><block s="reportVariadicSum"><list><l>0</l><l>0.3</l></list></block></list></block><block s="reportNewList"><list><l>logo_text_content</l><l>这里是明水印内容</l></list></block></list></block></list></block></list><comment w="90" collapsed="false">参数含义 &#xD;&#xD;https://www.volcengine.com/docs/6791/1339374</comment></block></block><block s="doSetVar"><l>_reply</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>POST</l><block var="_proxy_url"/><block s="reportListAttribute"><l><option>json</option></l><block var="_payload"/></block><list><block s="reportNewList"><list><l>Content-Type</l><l>application/json</l></list></block><block s="reportNewList"><list><l>AccessKey</l><block var="AccessKey"/></list></block><block s="reportNewList"><list><l>SecretKey</l><block var="SecretKey"/></list></block></list></custom-block></block><block s="doReport"><block var="_reply"/></block></script></block-definition><block-definition s="%&apos;method&apos; url: %&apos;url&apos; send: %&apos;payload&apos; headers: %&apos;headers&apos;" type="reporter" category="sensing"><header></header><code></code><translations>pt:a resposta a _ de _ enviando _ e cabeçalhos _&#xD;</translations><inputs><input type="%s" readonly="true">GET<options>GET&#xD;POST&#xD;PUT&#xD;DELETE</options></input><input type="%s">https://snap.berkeley.edu</input><input type="%s"></input><input type="%mult%l" readonly="true"></input></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>xhr_request(mth, url, dta, hdrs)</l><list><block var="method"/><block var="url"/><block var="payload"/><block var="headers"/></list></block></block></script></block-definition><block-definition s="error %&apos;msg&apos;" type="command" category="control"><comment x="0" y="0" w="268.6666666666667" collapsed="false">Throw an error.&#xD;&#xD;Makes a red halo appear around the script that runs it,&#xD;with the input text shown in a speech balloon next to&#xD;the script, just like any Snap! error.&#xD;&#xD;This is useful to put in the second script of SAFELY TRY&#xD;after some other instructions to undo the partial work of&#xD;the first script.</comment><header></header><code></code><translations>pt:lança o erro _&#xD;pl:błąd _&#xD;</translations><inputs><input type="%txt"></input></inputs><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block var="msg"/></list></block></script></block-definition><block-definition s="image message $nl role %&apos;role&apos; $nl image url %&apos;image url&apos; $nl text %&apos;text&apos;" type="reporter" category="豆包" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">user<options>system&#xD;user&#xD;assistant</options></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><block s="doReport"><block s="reportNewList"><list><block s="reportNewList"><list><l>role</l><block var="role"/></list></block><block s="reportNewList"><list><l>content</l><block s="reportNewList"><list><block s="reportNewList"><list><block s="reportNewList"><list><l>type</l><l>image_url</l></list></block><block s="reportNewList"><list><l>image_url</l><block s="reportNewList"><list><block s="reportNewList"><list><l>url</l><block var="image url"/></list></block></list></block></list></block></list></block><block s="reportNewList"><list><block s="reportNewList"><list><l>type</l><l>text</l></list></block><block s="reportNewList"><list><l>text</l><block var="text"/></list></block></list></block></list></block></list></block></list></block></block></script></block-definition><block-definition s="text message $nl role %&apos;role&apos; $nl $nl text %&apos;text&apos;" type="reporter" category="豆包" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">user<options>system&#xD;user&#xD;assistant</options></input><input type="%s" initial="1"></input></inputs><script><block s="doReport"><block s="reportNewList"><list><block s="reportNewList"><list><l>role</l><block var="role"/></list></block><block s="reportNewList"><list><l>content</l><block var="text"/></list></block></list></block></block></script></block-definition><block-definition s="🪟 _load js/css" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/iframe/jquery-3.7.1.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/iframe/jquery-ui.js</l></list></block></script><scripts><script x="89.80952380952385" y="423.95873015873013"><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://code.jquery.com/jquery-3.7.1.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>https://code.jquery.com/ui/1.13.3/jquery-ui.js</l></list></block></script></scripts></block-definition><block-definition s="🪟 create id %&apos;id&apos; url %&apos;url&apos;" type="command" category="🪟 iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input><input type="%s" initial="1"></input></inputs><script><block s="doSetVar"><l>__module__iframe__</l><l>libraries/iframe/init.js</l></block><custom-block s="🪟 _load js/css"></custom-block><block s="doApplyExtension"><l>iframe_create(iframe_container_id, iframe_id, url)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block><custom-block s="🪟_iframe_id %s"><block var="id"/></custom-block><block var="url"/></list></block></script><scripts><comment x="327.8818359374997" y="12.133333333333345" w="149.33333333333334" collapsed="false">press escape key or close button to hide it</comment></scripts></block-definition><block-definition s="🪟 set id %&apos;id&apos; width %&apos;width&apos; height %&apos;height&apos; left %&apos;left&apos; top %&apos;top&apos;" type="command" category="🪟 iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input><input type="%s" initial="1">480px</input><input type="%s" initial="1">360px</input><input type="%s" initial="1">920px</input><input type="%s" initial="1">20px</input></inputs><script><block s="doApplyExtension"><l>iframe_set(iframe_container_id, width, height, left, top)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block><block var="width"/><block var="height"/><block var="left"/><block var="top"/></list></block></script></block-definition><block-definition s="🪟 show id %&apos;id&apos;" type="command" category="🪟 iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doApplyExtension"><l>iframe_show(iframe_container_id)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block></list></block></script></block-definition><block-definition s="🪟 $fullScreen id %&apos;id&apos;" type="command" category="🪟 iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doDeclareVariables"><list><l>padding</l><l>width</l><l>height</l><l>left</l><l>top</l></list></block><block s="doSetVar"><l>padding</l><l>10</l></block><block s="doSetVar"><l>left</l><block var="padding"/></block><block s="doSetVar"><l>top</l><block var="padding"/></block><block s="doSetVar"><l>width</l><block s="reportDifference"><custom-block s="🪟_window %s"><l>width</l></custom-block><block s="reportVariadicProduct"><list><l>4</l><block var="padding"/></list></block></block></block><block s="doSetVar"><l>height</l><block s="reportDifference"><custom-block s="🪟_window %s"><l>height</l></custom-block><block s="reportVariadicProduct"><list><l>4</l><block var="padding"/></list></block></block></block><custom-block s="🪟 set id %s width %s height %s left %s top %s"><block var="id"/><block s="reportJoinWords"><list><block var="width"/><l>px</l></list></block><block s="reportJoinWords"><list><block var="height"/><l>px</l></list></block><block s="reportJoinWords"><list><block var="left"/><l>px</l></list></block><block s="reportJoinWords"><list><block var="top"/><l>px</l></list></block></custom-block></script></block-definition><block-definition s="🪟 hide id %&apos;id&apos;" type="command" category="🪟 iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doApplyExtension"><l>iframe_hide(iframe_container_id)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block></list></block></script></block-definition><block-definition s="🪟 delete id %&apos;id&apos;" type="command" category="🪟 iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doApplyExtension"><l>iframe_delete(iframe_container_id)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block></list></block></script></block-definition><block-definition s="🪟 set attribute %&apos;attribute&apos; to %&apos;value&apos;" type="command" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>attribute</l><l>value</l></list><l>let iframe_resizable = document.getElementById(&apos;myiframe&apos;)&#xD;if (iframe_resizable){iframe_resizable[attribute] = value }</l></block><list><block var="attribute"/><block var="value"/></list></block></script></block-definition><block-definition s="🪟postMessage id %&apos;id&apos; msg %&apos;msg&apos;" type="command" category="🪟 iframe"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input><input type="%mlt" initial="1"></input></inputs><script><block s="doApplyExtension"><l>iframe_postMessage(iframe_id, msg)</l><list><custom-block s="🪟_iframe_id %s"><block var="id"/></custom-block><block var="msg"/></list></block></script></block-definition><block-definition s="🪟_iframe_id %&apos;id&apos;" type="reporter" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doReport"><block s="reportJoinWords"><list><l>snap_iframe_</l><block var="id"/></list></block></block></script></block-definition><block-definition s="🪟_iframe_container_id %&apos;id&apos;" type="reporter" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doReport"><block s="reportJoinWords"><list><l>snap_iframe_container_</l><block var="id"/></list></block></block></script></block-definition><block-definition s="🪟 handle postMessage from iframe $nl callback %&apos;callback&apos;" type="command" category="🪟 iframe"><header></header><code></code><translations></translations><inputs><input type="%cmdRing" initial="1"></input></inputs><script><block s="doApplyExtension"><l>iframe_handlePostMessage(callback)</l><list><block var="callback"/></list></block></script></block-definition><block-definition s="🪟_window %&apos;x&apos;" type="reporter" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true" initial="1">width<options>width&#xD;height</options></input></inputs><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="x"/><l>width</l></list></block><script><block s="doReport"><block s="reportListItem"><l>1</l><block s="reportApplyExtension"><l>iframe_windowSize()</l><list></list></block></block></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="x"/><l>height</l></list></block><script><block s="doReport"><block s="reportListItem"><l>2</l><block s="reportApplyExtension"><l>iframe_windowSize()</l><list></list></block></block></block></script><list></list></block></script></block-definition><block-definition s="🪟 exist id %&apos;id&apos;" type="reporter" category="🪟 iframe" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">myiframe</input></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>iframe_exist(iframe_container_id)</l><list><custom-block s="🪟_iframe_container_id %s"><block var="id"/></custom-block></list></block></block></script></block-definition></blocks><primitives></primitives><stage name="舞台" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="1007"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAAAXNSR0IArs4c6QAADoVJREFUeF7t1cEJAAAIxDDdf2m3sJ+4wEEQuuMIECBAgACBd4F9XzRIgAABAgQIjAB7AgIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECByxcQFpoRMBzwAAAABJRU5ErkJggg==</pentrails><costumes><list struct="atomic" id="1008"></list></costumes><sounds><list struct="atomic" id="1009"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="角色" idx="1" x="0" y="0" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="1014"><costumes><list struct="atomic" id="1015"></list></costumes><sounds><list struct="atomic" id="1016"></list></sounds><blocks></blocks><variables></variables><scripts><script x="261.6666666666667" y="6.666666666666667"><block s="receiveGo"></block><block s="doSetVar"><l>token</l><l></l></block><block s="doSetVar"><l>model</l><l></l></block></script><script x="44.333333333333336" y="196.66666666666666"><custom-block s="🪟 create id %s url %s"><l>markdown</l><l>https://wwj718.github.io/post/img/snap-iframe/iframe-markdown.html</l></custom-block></script><script x="39.666666666666664" y="253"><custom-block s="🪟postMessage id %s msg %mlt"><l>markdown</l><block var="reply"/></custom-block></script><script x="29" y="74.33333333333333"><block s="doSetVar"><l>reply</l><custom-block s="🫘 豆包 对话 %br 提示词 %mlt %br 视觉 %s %br 临时对话? %b %br 密钥 %s %br 模型 %s"><l>介绍 Snap!</l><l>None</l><l><bool>true</bool></l><block var="token"/><block var="model"/></custom-block></block></script></scripts></sprite><watcher var="token" style="normal" x="10" y="10" color="243,118,29" hidden="true"/><watcher var="model" style="normal" x="10" y="39.500001999999995" color="243,118,29" hidden="true"/><watcher var="reply" style="normal" x="19" y="4.00000399999999" color="243,118,29"/></sprites></stage><variables><variable name="doubao_messages"><list struct="atomic" id="1046"></list></variable><variable name="token"><l></l></variable><variable name="model"><l></l></variable><variable name="reply"><l>以下是对Snap!的详细介绍：&#xD;&#xD;### 基本信息&#xD;- **起源与发展**&#xD;    - Snap!是由加州大学伯克利分校的研究人员开发的一款基于图形化编程的教育编程语言，其前身为BYOB（Build Your Own Blocks），它在继承了Scratch的直观性和易用性的基础上进行了拓展和深化，旨在为不同年龄段的学习者提供一个更具深度和灵活性的编程学习环境。&#xD;- **设计理念**&#xD;    - **低门槛、高天花板**：Snap! 拥有简洁直观的图形化界面，初学者可以轻松上手，通过拖拽和拼接代码块的方式快速创建程序。同时，它又具备强大的功能和丰富的扩展库，能够满足高级用户进行复杂项目开发的需求。&#xD;    - **培养计算思维**：注重培养学习者的计算思维能力，通过编程活动，帮助他们学会分析问题、设计算法、分解任务、抽象概念以及自动化解决方案等重要的思维技能。&#xD;&#xD;### 编程环境&#xD;- **界面布局**&#xD;    - **脚本区**：占据主要部分，是进行编程操作的核心区域，用户在这里拼接各种代码块来构建程序。&#xD;    - **积木区**：存放着各种不同类型的代码块，如控制块、操作块、变量块、函数块等，这些代码块按照功能分类，方便用户查找和使用。&#xD;    - **舞台区**：用于显示程序的运行结果，例如动画、游戏角色的运动、图形的绘制等。&#xD;    - **精灵列表区**：列出了程序中所使用的所有角色（精灵），用户可以在这里对精灵进行添加、删除、复制以及属性设置等操作。&#xD;- **操作方式**&#xD;    - **代码块操作**：通过简单的拖拽操作，将积木区的代码块拖放到脚本区，并按照逻辑顺序拼接在一起，形成可执行的程序。代码块之间的拼接具有一定的规则，只有符合语法逻辑的块才能正确拼接，这种设计降低了语法错误的可能性。&#xD;    - **实时反馈**：在程序编写过程中，用户可以随时点击运行按钮，舞台区会实时显示程序的运行结果，方便用户及时调试和修改程序。如果程序存在逻辑错误或运行时错误，系统会给出相应的提示信息，帮助用户定位和解决问题。&#xD;&#xD;### 编程特性&#xD;- **丰富的代码块类型**&#xD;    - **基本控制结构**：提供了顺序结构、条件判断（如if-else语句）、循环结构（for循环、while循环）等基本控制块，让用户能够实现各种复杂的程序逻辑。&#xD;    - **数据类型与操作**：支持多种数据类型，包括数字、字符串、布尔值、列表、对象等，并提供了相应的操作块，如算术运算、字符串处理、列表操作（添加、删除、遍历元素等）等。&#xD;    - **函数与过程**：允许用户自定义函数和过程，通过创建带有参数和返回值的代码块，实现代码的模块化和复用，提高编程效率。&#xD;    - **事件驱动编程**：具有强大的事件处理机制，用户可以轻松地为精灵或舞台定义各种事件，如鼠标点击、键盘按键、精灵碰撞等，并编写相应的事件处理程序。&#xD;- **高级特性**&#xD;    - **递归功能**：支持递归算法的实现，这在处理一些具有重复结构且规模可逐步缩小的问题时非常有用，如树状结构的遍历、分形图形的绘制等。&#xD;    - **一阶函数与高阶函数**：可以创建并传递函数作为参数，也可以让函数返回另一个函数，这为函数式编程风格提供了支持，能够实现更抽象、更灵活的程序设计。&#xD;    - **自定义块与抽象**：用户能够根据自己的需求创建自定义的代码块，将一些复杂的操作或逻辑封装在其中，实现更高层次的抽象，使程序结构更加清晰，易于理解和维护。&#xD;&#xD;### 应用领域&#xD;- **教育教学**&#xD;    - **中小学编程教育**：Snap! 以其适合青少年认知特点的图形化编程方式，在中小学编程教育中得到了广泛应用。它可以作为编程入门课程的教学工具，帮助学生逐步建立编程思维和逻辑思维能力。&#xD;    - **高等教育辅助工具**：在一些高校的计算机科学或相关专业的入门课程中，Snap! 也被用作辅助教学工具，用于讲解编程基础概念、算法设计等内容，通过直观的图形化方式降低初学者的学习难度。&#xD;- **创意与项目开发**&#xD;    - **游戏开发**：利用Snap! 的动画和交互功能，用户可以开发各种类型的小游戏，如动作游戏、益智游戏、冒险游戏等。通过对精灵的控制、碰撞检测、计分系统等功能的实现，让学习者在游戏开发过程中深入理解编程逻辑和设计思路。&#xD;    - **动画制作**：能够创建各种富有创意的动画作品，通过对角色的运动、变形、特效等属性的编程控制，实现复杂的动画效果，培养学习者的艺术创造力和编程能力。&#xD;    - **数据可视化**：对于一些简单的数据处理和可视化需求，Snap! 也提供了相应的功能支持。用户可以通过编程将数据以图形、图表等直观的方式展示出来，帮助理解和分析数据。&#xD;&#xD;### 社区与资源&#xD;- **在线社区**&#xD;    - Snap! 拥有一个活跃的在线社区，学习者和开发者们可以在社区中分享自己的作品、交流编程经验、互相学习和提供帮助。社区中还会定期举办一些编程挑战活动或项目分享会，激发学习者的创作热情和创新思维。&#xD;- **教程与文档**&#xD;    - 提供了丰富的官方教程和文档资源，涵盖了从基础操作到高级编程技巧的各个方面。这些教程以图文并茂、循序渐进的方式引导学习者逐步掌握Snap! 的编程技能，同时还提供了大量的示例代码和项目案例供用户参考和学习。&#xD;&#xD;&#xD;&#xD; </l></variable><variable name="__module__iframe__" hidden="true"><l>libraries/iframe/init.js</l></variable></variables></scene></scenes></project>