<project name="dynatalk-emqx-20240331" app="Snap! 10-dev, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAAAupJREFUeF7t0rGJImAUhdF/GjEVTAwtQ+zAyNB2RBsQbMIODGxAxMgqXGaiZWfYecnjBh7jx3/183y8Xq/X8FEgVOADwFB5s18FAAQhWgDAaH7jADIQLQBgNL9xABmIFgAwmt84gAxECwAYzW8cQAaiBQCM5jcOIAPRAgBG8xsHkIFoAQCj+Y0DyEC0AIDR/MYBZCBaAMBofuMAMhAtAGA0v3EAGYgWADCa3ziADEQLABjNbxxABqIFAIzmNw4gA9ECAEbzGweQgWgBAKP5jQPIQLQAgNH8xgFkIFoAwGh+4wAyEC0AYDS/cQAZiBYAMJrfOIAMRAsAGM1vHEAGogUAjOY3DiAD0QIARvMbB5CBaAEAo/mNA8hAtACA0fzGAWQgWgDAaH7jADIQLQBgNL9xABmIFgAwmt84gAxECwAYzW8cQAaiBQCM5jcOIAPRAgBG8xsHkIFoAQCj+Y0DyEC0AIDR/MYBZCBaAMBofuMAMhAtAGA0v3EAGYgWADCa3ziADEQLABjNbxxABqIFAIzmNw4gA9ECAEbzGweQgWgBAKP5jQPIQLQAgNH8xgFkIFoAwGh+4wAyEC0AYDS/cQAZiBYAMJrfOIAMRAsAGM1vHEAGogUAjOY33gJws9mMw+GgrgK/FmgBeDwex+l0+hq/3W5jv9+PxWLx65dx8H4FWgB+ZpzNZmM6nX4rej6fx/V6HZPJ5P1q+8XfCrQB/FxarVY/Jr/f72O73Y71eu0vefMCbQD/xvd8Psd8Ph+73e7Nc/v5/xZoAbhcLsflchmPx0NxBf5boAWg5gpUCwBYLeWupQCALVk9Wi0AYLWUu5YCALZk9Wi1AIDVUu5aCgDYktWj1QIAVku5aykAYEtWj1YLAFgt5a6lAIAtWT1aLQBgtZS7lgIAtmT1aLUAgNVS7loKANiS1aPVAgBWS7lrKQBgS1aPVgsAWC3lrqUAgC1ZPVotAGC1lLuWAgC2ZPVotQCA1VLuWgr8AdAyArcWAz5jAAAAAElFTkSuQmCC</thumbnail><scenes select="1"><scene name="dynatalk-emqx-20240331"><notes></notes><palette><category name="üí¨dynatalk" color="230,60,0,1"/><category name="MQTT" color="143,0,100,1"/></palette><hidden></hidden><headers></headers><code></code><blocks><block-definition s="üí¨set mqtt broker %&apos;host&apos; username %&apos;username&apos; password %&apos;password&apos;" type="command" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">ws://127.0.0.1:15675</input><input type="%s" initial="1">guest</input><input type="%s" initial="1">test</input></inputs><script><custom-block s="$cloudOutline MQTT disconnect from %s"><l>all</l></custom-block><block s="doSetVar"><l>_dynatalkLogs</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>_dynatalkFakePromises</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>_dynatalkAvailableActions</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>_dynatalkIncomingMessages</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>_dynatalkMQTTHost</l><block var="host"/></block><custom-block s="$cloudOutline MQTT connect to %s %br $options-1-192-192-192 %mult%s"><block var="host"/><list><block var="username"/><block var="password"/></list></custom-block><custom-block s="$cloudOutline MQTT subscribe to %s topic %s %br on each message run %cmdRing %br $options-1-192-192-192 %mult%s"><block var="host"/><custom-block s="üí¨agentName"></custom-block><block s="reifyScript"><script><block s="doAddToList"><block var="payload"/><block var="_dynatalkIncomingMessages"/></block></script><list><l>payload</l><l>topic</l></list></block><list></list></custom-block><custom-block s="$cloudOutline MQTT subscribe to %s topic %s %br on each message run %cmdRing %br $options-1-192-192-192 %mult%s"><block var="host"/><l>[broadcast]</l><block s="reifyScript"><script><block s="doAddToList"><block var="payload"/><block var="_dynatalkIncomingMessages"/></block></script><list><l>payload</l><l>topic</l></list></block><list></list></custom-block></script></block-definition><block-definition s="$cloudOutline MQTT connect to %&apos;broker&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="command" category="MQTT"><comment x="0" y="0" w="416.6666666666665" collapsed="false">Connect to a broker&#xD;&#xD;The options are not required but can be filled if needed&#xD;&#xD;1. username (some brokers need this)&#xD;2. password (some brokers need this)&#xD;3. keepalive (default time is 60 seconds but some brokers need a shorter time)&#xD;4. connection callback (ringed set of scripts to be run when connection is made or remade)&#xD;&#xD;Note: The connection callback doesn&apos;&apos;t have to be the 4th option - it just has to be the last (or only) option.&#xD;&#xD;ADVANCED: The brokers offered in the menu are accessed using default ports and  basepaths (if needed).  If accessing other brokers, the complete urls should be formed like this:&#xD;&#xD;siteURL:port/basepath &#xD;e.g mqtt.eclipseprojects.io:443/mqtt&#xD;&#xD;It is possible to have more than one connection to the same broker, for instance, using two different user/pass accounts simultaneously. To do this, add a connection id at the end of the broker:&#xD;&#xD;e.g mqtt.eclipseprojects.io:443/mqtt|1&#xD;</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%mult%s"></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doIf"><block s="reportNot"><block s="reportJoinWords"><block var="options"/></block></block><script><block s="doSetVar"><l>options</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doDeclareVariables"><list><l>connection status</l><l>callback</l></list></block><block s="doSetVar"><l>connection status</l><l>connecting</l></block><block s="doSetVar"><l>callback</l><l></l></block><block s="doIf"><block s="reportIsA"><block s="reportListItem"><l><option>last</option></l><block var="options"/></block><l><option>command</option></l></block><script><block s="doSetVar"><l>callback</l><block s="reportListItem"><l><option>last</option></l><block var="options"/></block></block><block s="doDeleteFromList"><l><option>last</option></l><block var="options"/></block></script><list></list></block><block s="doSetVar"><l>options</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>username</l><block s="reportListItem"><l>1</l><block var="options"/></block></list></block><block s="reportNewList"><list><l>password</l><block s="reportListItem"><l>2</l><block var="options"/></block></list></block><block s="reportNewList"><list><l>keepalive</l><block s="reportListItem"><l>3</l><block var="options"/></block></list></block></list></block></block></block><block s="doApplyExtension"><l>mqt_connect(broker,callback,options)</l><list><block var="broker"/><block var="callback"/><block var="options"/></list></block><block s="doWaitUntil"><block s="reportNot"><block s="reportVariadicEquals"><list><block var="connection status"/><l>connecting</l></list></block></block></block><block s="doIf"><block s="reportNot"><block s="reportVariadicEquals"><list><block var="connection status"/><l>connected</l></list></block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block var="connection status"/></list></block></script><list></list></block></script></block-definition><block-definition s="$cloudOutline MQTT publish to %&apos;broker&apos; topic %&apos;topic&apos; payload %&apos;payload&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="command" category="MQTT"><comment x="0" y="0" w="200" collapsed="false">Publish a message to an MQTT broker&#xD;&#xD;The options are not required but can be filled if needed&#xD;&#xD;1. qos (quality of service 0,1 or 2)&#xD;2. retain flag (boolean)&#xD;</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input><input type="%mlt">hello</input><input type="%mult%s"></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doIf"><block s="reportNot"><block s="reportJoinWords"><block var="options"/></block></block><script><block s="doSetVar"><l>options</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doSetVar"><l>options</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>qos</l><block s="reportListItem"><l>1</l><block var="options"/></block></list></block><block s="reportNewList"><list><l>retain</l><block s="reportListItem"><l>2</l><block var="options"/></block></list></block></list></block></block></block><block s="doIf"><block s="reportIsA"><block var="payload"/><l><option>list</option></l></block><script><block s="doSetVar"><l>payload</l><block s="reportListAttribute"><l><option>json</option></l><block var="payload"/></block></block></script><list></list></block><block s="doIf"><block s="reportIsA"><block var="payload"/><l><option>number</option></l></block><script><block s="doSetVar"><l>payload</l><block s="reportJoinWords"><list><block var="payload"/></list></block></block></script><list></list></block><block s="doApplyExtension"><l>mqt_pub(broker,topic,payload,options)</l><list><block var="broker"/><block var="topic"/><block var="payload"/><block var="options"/></list></block></script></block-definition><block-definition s="$cloudOutline MQTT subscribe to %&apos;broker&apos; topic %&apos;topic&apos; $nl on each message run %&apos;callback&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="command" category="MQTT"><comment x="0" y="0" w="239.99999999999977" collapsed="false">Subscribe to a topic on a broker&#xD;&#xD;Make sure you have already run an MQTT connect block before using this one&#xD;&#xD;You should add a script to be run inside he grey ring.&#xD;&#xD;It will be run each time a message is received&#xD;&#xD;If you click on the arrow on the grey ring twice, you can use #1 and #2 inside your script.&#xD;&#xD;#1 will contain the received payload&#xD;&#xD;#2 will contain the received topic name&#xD;&#xD;The options are not required but can be filled if needed&#xD;&#xD;There is only 1 option at present&#xD;1. Binary mode (boolean) If true, payload returned as plain binary byte string.  Default condition (false) it is returned as UTF text string</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input><input type="%cmdRing"></input><input type="%mult%s"></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doIf"><block s="reportNot"><block s="reportJoinWords"><block var="options"/></block></block><script><block s="doSetVar"><l>options</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doSetVar"><l>options</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>mode</l><block s="reportListItem"><l>1</l><block var="options"/></block></list></block></list></block></block></block><block s="doApplyExtension"><l>mqt_sub(broker,topic,callback,options)</l><list><block var="broker"/><block var="topic"/><block var="callback"/><block var="options"/></list></block></script></block-definition><block-definition s="$cloudOutline MQTT unsubscribe from %&apos;broker&apos; topic %&apos;topic&apos;" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doApplyExtension"><l>mqt_unsub(broker,topic)</l><list><block var="broker"/><block var="topic"/></list></block></script></block-definition><block-definition s="$cloudOutline MQTT disconnect from %&apos;broker&apos;" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs><input type="%s">all<options>all&#xD;broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doApplyExtension"><l>mqt_disconnect(broker)</l><list><block var="broker"/></list></block></script></block-definition><block-definition s="üí¨ _onMessage %&apos;payload&apos;" type="command" category="üí¨dynatalk" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>message</l></list></block><custom-block s="üí¨ _debugLog %s"><l>_onMessage</l></custom-block><custom-block s="üí¨ _debugLog %s"><block var="payload"/></custom-block><custom-block s="safely try %cs then if %upvar %cs"><script><block s="doSetVar"><l>message</l><block s="reportTextSplit"><block var="payload"/><l><option>json</option></l></block></block><block s="doIf"><block s="reportVariadicOr"><list><block s="reportVariadicEquals"><list><block s="reportListItem"><l>to</l><block var="message"/></block><l>SnapAgent</l></list></block><block s="reportVariadicEquals"><list><block s="reportListItem"><l>to</l><block var="message"/></block><l>[broadcast]</l></list></block></list></block><script><custom-block s="üí¨ _interpret %s"><block var="message"/></custom-block></script><list></list></block></script><l>error</l><script></script></custom-block></script><scripts><comment x="217.84189453124998" y="64.14166666666665" w="90" collapsed="false">message buffer</comment></scripts></block-definition><block-definition s="üí¨ _interpret %&apos;message&apos;" type="command" category="üí¨dynatalk" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>action</l><l>args</l><l>actionExist?</l></list></block><block s="doSetVar"><l>actionExist?</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><block s="doSetVar"><l>_dynatalkCurrentMessage</l><block var="message"/></block><block s="doSetVar"><l>action</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>name</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>args</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block></list></block></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="action"/><l>[response]</l></list></block><script><custom-block s="üí¨_processHelp %s"><block var="message"/></custom-block><custom-block s="üí¨_processPromises %s"><block var="message"/></custom-block></script><list><block s="reportVariadicEquals"><list><block var="action"/><l>[error]</l></list></block><script><custom-block s="üí¨_processPromises %s"><block var="message"/></custom-block></script><l><bool>true</bool></l><script><block s="doForEach"><l>item</l><block s="reportConcatenatedLists"><list><custom-block s="üí¨ actions"></custom-block><block s="reportNewList"><list><block s="reifyScript"><script><custom-block s="help"></custom-block></script><list></list></block><block s="reifyScript"><script><custom-block s="ping"></custom-block></script><list></list></block></list></block></list></block><script><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>1</l><block s="reportTextSplit"><block s="reportBlockAttribute"><l><option>label</option></l><block var="item"/></block><l> </l></block></block><block var="action"/></list></block><script><custom-block s="üí¨ _debugLog %s"><l>run it!</l></custom-block><block s="doSetVar"><l>actionExist?</l><block s="reportBoolean"><l><bool>true</bool></l></block></block><block s="doRun"><block var="item"/><block var="args"/></block></script><list></list></block></script></block><block s="doIf"><block s="reportNot"><block var="actionExist?"/></block><script><custom-block s="üí¨ raiseWith %s"><block s="reportJoinWords"><list><l>Message Not Understood: </l><custom-block s="üí¨agentName"></custom-block><l>&gt;&gt;</l><block var="action"/></list></block></custom-block></script><list></list></block></script></list></block></script><scripts><comment x="387.6923076923074" y="182.84615384615398" w="200.76923076923077" collapsed="false">{&#xD;  &quot;meta&quot;: {&#xD;    &quot;id&quot;: &quot;817411a0-cdd3-4372-a8d5-361e17440301&quot;&#xD;  },&#xD;  &quot;from&quot;: &quot;User&quot;,&#xD;  &quot;to&quot;: &quot;SnapAgent&quot;,&#xD;  &quot;action&quot;: {&#xD;    &quot;name&quot;: &quot;echo&quot;,&#xD;    &quot;args&quot;: [&quot;hi&quot;]&#xD;  }&#xD;}</comment><script x="244.23076923076928" y="287.9743589743584"><custom-block s="üí¨ _debugLog %s"><l>args:</l></custom-block><custom-block s="üí¨ _debugLog %s"><block var="args"/></custom-block></script><script x="470.23076923076906" y="425.85256410256267"><block s="evaluate"><block s="reifyReporter"><autolambda><block s="xPosition"></block></autolambda><list></list></block><list><l></l></list></block></script><script x="231.69230769230762" y="640.112179487182"><block s="doSetVar"><l>test</l><block s="reportListItem"><l>1</l><custom-block s="üí¨ actions"></custom-block></block></block><block s="bubble"><block s="reportListItem"><l>1</l><block s="reportTextSplit"><block s="reportBlockAttribute"><l><option>label</option></l><block var="test"/></block><l> </l></block></block></block></script><script x="489.3307542067307" y="642.4198717948734"><block var="item"/></script></scripts></block-definition><block-definition s="safely try %&apos;action&apos; then if %&apos;error&apos; %&apos;handler&apos;" type="command" category="control"><comment x="0" y="0" w="276" collapsed="false">Catch errors.&#xD;&#xD;Runs the first script.  If it succeeds, nothing else happens.&#xD;But if it has an error (something that would otherwise result&#xD;in a red halo around the block), then the second script is run,&#xD;with the text of the error message that would have been shown in the variable ERROR.</comment><header></header><code></code><translations>pt:tenta executar _ e, em caso de erro _ , executa _&#xD;ca:prova de forma segura _ i si _ _&#xD;</translations><inputs><input type="%cs"></input><input type="%upvar"></input><input type="%cs"></input></inputs><script><block s="doApplyExtension"><l>err_try(cmd, catch, err)</l><list><block var="action"/><block var="handler"/><block var="error"/></list></block><block s="doApplyExtension"><l>err_reset</l><list></list></block></script></block-definition><block-definition s="multiline %&apos;text&apos;" type="reporter" category="operators"><header></header><code></code><translations>pt:o texto multilinha _&#xD;ca:multil√≠nia _&#xD;</translations><inputs><input type="%mlt"></input></inputs><script><block s="doReport"><block var="text"/></block></script></block-definition><block-definition s="üí¨ _debugging" type="reporter" category="üí¨dynatalk" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block-definition><block-definition s="üí¨ _debugLog %&apos;x&apos;" type="command" category="üí¨dynatalk" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doIf"><custom-block s="üí¨ _debugging"></custom-block><script><block s="doAddToList"><block var="x"/><block var="_dynatalkLogs"/></block></script><list></list></block></script><scripts><script x="187.3076923076923" y="106.46153846153796"><block s="reportJoinWords"><list><l>hello </l><l>world</l></list></block></script><script x="185.76923076923077" y="142.3589743589744"><block s="reportNewList"><list><l></l><l></l></list></block></script></scripts></block-definition><block-definition s="üí¨_clearLog" type="command" category="üí¨dynatalk" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>_dynatalkLogs</l><block s="reportNewList"><list></list></block></block></script></block-definition><block-definition s="üí¨start and loop" type="command" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>pointer</l><l>payload</l></list></block><block s="doSetVar"><l>pointer</l><l>1</l></block><block s="doForever"><script><block s="doIf"><block s="reportListItem"><block var="pointer"/><block var="_dynatalkIncomingMessages"/></block><script><block s="doSetVar"><l>payload</l><block s="reportListItem"><block var="pointer"/><block var="_dynatalkIncomingMessages"/></block></block><custom-block s="üí¨ _onMessage %s"><block var="payload"/></custom-block><block s="doChangeVar"><l>pointer</l><l>1</l></block></script><list></list></block><block s="doWait"><l>0.01</l></block></script></block></script></block-definition><block-definition s="üí¨request %&apos;agent&apos; action %&apos;action&apos; args %&apos;args&apos; timeout %&apos;timeout&apos; s" type="reporter" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">SnapAgent</input><input type="%s" initial="1">echo</input><input type="%l" initial="1"></input><input type="%s" initial="1">3</input></inputs><script><block s="doDeclareVariables"><list><l>message</l><l>msgID</l><l>fakePromise</l><l>begin</l></list></block><block s="doSetVar"><l>message</l><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><l></l><block var="agent"/><block var="action"/><block var="args"/></custom-block></block><block s="doSetVar"><l>msgID</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>meta</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>id</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>fakePromise</l><block s="reportNewList"><list><block var="msgID"/><l></l><l></l></list></block></block><block s="doAddToList"><block var="fakePromise"/><block var="_dynatalkFakePromises"/></block><custom-block s="üí¨_send %s"><block var="message"/></custom-block><block s="doSetVar"><l>begin</l><block s="reportDate"><l><option>time in milliseconds</option></l></block></block><block s="doWaitUntil"><block s="reportVariadicOr"><list><block s="reportVariadicNotEquals"><list><block s="reportListItem"><l>2</l><block var="fakePromise"/></block><l></l></list></block><block s="reportVariadicGreaterThan"><list><block s="reportDifference"><block s="reportDate"><l><option>time in milliseconds</option></l></block><block var="begin"/></block><block s="reportVariadicProduct"><list><l>1000</l><block var="timeout"/></list></block></list></block></list></block></block><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportListItem"><l>2</l><block var="fakePromise"/></block><l>[response]</l></list></block><script><block s="doReport"><block s="reportListItem"><l>3</l><block var="fakePromise"/></block></block></script><list><block s="reportVariadicEquals"><list><block s="reportListItem"><l>2</l><block var="fakePromise"/></block><l>[error]</l></list></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block s="reportListItem"><l>3</l><block var="fakePromise"/></block></list></block></script><l><bool>true</bool></l><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block s="reportJoinWords"><list><l>Timeout(</l><block var="timeout"/><l> ms)</l></list></block></list></block></script></list></block></script></block-definition><block-definition s="üí¨_generateMessage parentID %&apos;parentID&apos; to %&apos;to&apos; actionName %&apos;action&apos; actionArgs %&apos;args&apos;" type="reporter" category="üí¨dynatalk" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>message</l></list></block><block s="doSetVar"><l>message</l><block s="reportNewList"><list><block s="reportNewList"><list><l>meta</l><block s="reportNewList"><list><block s="reportNewList"><list><l>id</l><block s="reportJoinWords"><list><custom-block s="üí¨agentName"></custom-block><l>-</l><block s="reportRandom"><l>1</l><l>100000000</l></block></list></block></list></block></list></block></list></block><block s="reportNewList"><list><l>from</l><custom-block s="üí¨agentName"></custom-block></list></block><block s="reportNewList"><list><l>to</l><block var="to"/></list></block><block s="reportNewList"><list><l>action</l><block s="reportNewList"><list><block s="reportNewList"><list><l>name</l><block var="action"/></list></block><block s="reportNewList"><list><l>args</l><block s="reportMap"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportIsA"><l></l><l><option>number</option></l></block><block s="reportVariadicSum"><list><l>0</l><l></l></list></block><l></l></block></autolambda><list></list></block><block var="args"/></block></list></block></list></block></list></block></list></block></block><block s="doIf"><block s="reportVariadicNotEquals"><list><block var="parentID"/><l></l></list></block><script><block s="doAddToList"><block s="reportNewList"><list><l>parent_id</l><block var="parentID"/></list></block><block s="reportListItem"><l>meta</l><block var="message"/></block></block></script><list></list></block><block s="doReport"><block var="message"/></block></script><scripts><script x="252.40925731169892" y="509.8461538461538"><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><l>123</l><l>agent</l><l>echo</l><block s="reportNewList"><list><l>1</l><l>2</l></list></block></custom-block></script><script x="242.94871794871807" y="557.1794871794872"><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><l></l><l>agent</l><l>echo</l><block s="reportNewList"><list><l>1</l><l>2</l></list></block></custom-block></script><script x="7.692307692307692" y="539.333333333333"><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>args</l><l></l></list></block></list></block></block></script></scripts></block-definition><block-definition s="üí¨sendTo %&apos;agent&apos; action %&apos;action&apos; args %&apos;args&apos;" type="command" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">SnapAgent</input><input type="%s" initial="1">echo</input><input type="%l" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>message</l></list></block><block s="doSetVar"><l>message</l><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><l></l><block var="agent"/><block var="action"/><block var="args"/></custom-block></block><custom-block s="üí¨_send %s"><block var="message"/></custom-block></script></block-definition><block-definition s="üí¨broadcast %&apos;actionName&apos; %&apos;args&apos;" type="command" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">echo</input><input type="%l" initial="1"></input></inputs><script><custom-block s="üí¨sendTo %s action %s args %l"><l>[broadcast]</l><block var="actionName"/><block var="args"/></custom-block></script></block-definition><block-definition s="üí¨ actions" type="reporter" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="reportNewList"><list><block s="reifyScript"><script><custom-block s="echo %s"><l></l></custom-block></script><list></list></block><block s="reifyScript"><script><custom-block s="add %s %s"><l></l><l></l></custom-block></script><list></list></block></list></block></block></script></block-definition><block-definition s="üí¨ respondWith %&apos;value&apos;" type="command" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">aNumberOrAString</input></inputs><script><custom-block s="üí¨_send %s"><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><block s="reportListItem"><l>id</l><block s="reportListItem"><l>meta</l><block var="_dynatalkCurrentMessage"/></block></block><block s="reportListItem"><l>from</l><block var="_dynatalkCurrentMessage"/></block><l>[response]</l><block s="reportNewList"><list><block s="reportNewList"><list><l>value</l><block var="value"/></list></block></list></block></custom-block></custom-block></script></block-definition><block-definition s="üí¨ raiseWith %&apos;error&apos;" type="command" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1">aString</input></inputs><script><custom-block s="üí¨_send %s"><custom-block s="üí¨_generateMessage parentID %s to %s actionName %s actionArgs %s"><block s="reportListItem"><l>id</l><block s="reportListItem"><l>meta</l><block var="_dynatalkCurrentMessage"/></block></block><block s="reportListItem"><l>from</l><block var="_dynatalkCurrentMessage"/></block><l>[error]</l><block s="reportNewList"><list><block s="reportNewList"><list><l>error</l><block var="error"/></list></block></list></block></custom-block></custom-block></script></block-definition><block-definition s="echo %&apos;content&apos;" type="command" category="looks"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><custom-block s="üí¨ respondWith %s"><block var="content"/></custom-block><block s="bubble"><block var="content"/></block></script></block-definition><block-definition s="add %&apos;a&apos; %&apos;b&apos;" type="command" category="operators"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input><input type="%s" initial="1"></input></inputs><script><custom-block s="üí¨ respondWith %s"><block s="reportVariadicSum"><list><block var="a"/><block var="b"/></list></block></custom-block></script></block-definition><block-definition s="üí¨_processPromises %&apos;message&apos;" type="command" category="üí¨dynatalk" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>action</l><l>parentID</l></list></block><block s="doSetVar"><l>action</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>name</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>parentID</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>meta</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>parent_id</l><l/></block></autolambda><list></list></block></list></block></block><custom-block s="üí¨ _debugLog %s"><l>_processPromises</l></custom-block><block s="doForEach"><l>fakePromise</l><block var="_dynatalkFakePromises"/><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="parentID"/><block s="reportListItem"><l>1</l><block var="fakePromise"/></block></list></block><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="action"/><l>[response]</l></list></block><script><block s="doReplaceInList"><l>2</l><block var="fakePromise"/><l>[response]</l></block><block s="doReplaceInList"><l>3</l><block var="fakePromise"/><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>value</l><l/></block></autolambda><list></list></block></list></block></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="action"/><l>[error]</l></list></block><script><block s="doReplaceInList"><l>2</l><block var="fakePromise"/><l>[error]</l></block><block s="doReplaceInList"><l>3</l><block var="fakePromise"/><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>error</l><l/></block></autolambda><list></list></block></list></block></block></script><list></list></block></script><list></list></block></script></block></script></block-definition><block-definition s="üí¨_send %&apos;message&apos;" type="command" category="üí¨dynatalk" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><custom-block s="üí¨ _debugLog %s"><l>send: </l></custom-block><custom-block s="üí¨ _debugLog %s"><block var="message"/></custom-block><custom-block s="$cloudOutline MQTT publish to %s topic %s payload %mlt %br $options-1-192-192-192 %mult%s"><block var="_dynatalkMQTTHost"/><block s="reportListItem"><l>to</l><block var="message"/></block><block s="reportListAttribute"><l><option>json</option></l><block var="message"/></block><list></list></custom-block></script></block-definition><block-definition s="help" type="command" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>help</l></list></block><block s="doSetVar"><l>help</l><custom-block s="multiline %mlt"><l>{&#xD;  "echo": {&#xD;    "description": "echo the content",&#xD;    "args": ["aString"]&#xD;  },&#xD;  "add": {&#xD;    "description": "add a and b",&#xD;    "args": ["aNumber","aNumber"]&#xD;  }&#xD;}</l></custom-block></block><custom-block s="üí¨ respondWith %s"><block s="reportTextSplit"><block s="reportJoinWords"><list><l>{"help": </l><block var="help"/><l>}</l></list></block><l><option>json</option></l></block></custom-block></script></block-definition><block-definition s="üí¨agentName" type="reporter" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><l>SnapAgent</l></block></script></block-definition><block-definition s="ping" type="command" category="üí¨dynatalk" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="üí¨ respondWith %s"><l>pong</l></custom-block></script></block-definition><block-definition s="üí¨availableActions" type="reporter" category="üí¨dynatalk"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block var="_dynatalkAvailableActions"/></block></script><scripts><script x="126" y="95.5333333333333"><custom-block s="üí¨broadcast %s %l"><l>help</l><l/></custom-block><block s="doWait"><l>1</l></block><block s="bubble"><custom-block s="üí¨availableActions"></custom-block></block></script></scripts></block-definition><block-definition s="üí¨_processHelp %&apos;message&apos;" type="command" category="üí¨dynatalk" helper="true"><header></header><code></code><translations></translations><inputs><input type="%s" initial="1"></input></inputs><script><block s="doDeclareVariables"><list><l>args</l><l>from</l><l>value</l></list></block><block s="doSetVar"><l>args</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>action</l><l/></block></autolambda><list></list></block><block s="reifyReporter"><autolambda><block s="reportListItem"><l>args</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>from</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>from</l><l/></block></autolambda><list></list></block></list></block></block><block s="doSetVar"><l>value</l><block s="reportPipe"><block var="message"/><list><block s="reifyReporter"><autolambda><block s="reportListItem"><l>value</l><block var="args"/></block></autolambda><list></list></block></list></block></block><block s="doIf"><block s="reportVariadicAnd"><list><block s="reportIsA"><block var="value"/><l><option>list</option></l></block><block s="reportVariadicNotEquals"><list><block s="reportListItem"><l>help</l><block var="value"/></block><l></l></list></block></list></block><script><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportListItem"><block var="from"/><block var="_dynatalkAvailableActions"/></block><l></l></list></block><script><block s="doAddToList"><block s="reportNewList"><list><block var="from"/><block s="reportListItem"><l>help</l><block var="value"/></block></list></block><block var="_dynatalkAvailableActions"/></block></script><list><l><bool>true</bool></l><script><block s="doReplaceInList"><l>2</l><block s="reportListItem"><block var="from"/><block var="_dynatalkAvailableActions"/></block><block s="reportListItem"><l>help</l><block var="value"/></block></block></script></list></block></script><list></list></block></script></block-definition></blocks><stage name="ËàûÂè∞" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="1501"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAAAXNSR0IArs4c6QAADoVJREFUeF7t1cEJAAAIxDDdf2m3sJ+4wEEQuuMIECBAgACBd4F9XzRIgAABAgQIjAB7AgIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECByxcQFpoRMBzwAAAABJRU5ErkJggg==</pentrails><costumes><list struct="atomic" id="1502"></list></costumes><sounds><list struct="atomic" id="1503"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="ËßíËâ≤" idx="1" x="-147.80452791075334" y="-105.50638589654622" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="1508"><costumes><list struct="atomic" id="1509"></list></costumes><sounds><list struct="atomic" id="1510"></list></sounds><blocks></blocks><variables></variables><scripts><script x="29.99999999999997" y="30.000000000000057"><block s="receiveGo"></block><custom-block s="üí¨set mqtt broker %s username %s password %s"><l>wss://mqtt.aimaker.space:8084/mqtt</l><l>guest</l><l>test</l></custom-block><custom-block s="üí¨start and loop"></custom-block></script><script x="34.84615384615395" y="195.53846153846177"><custom-block s="üí¨request %s action %s args %l timeout %s s"><l>SnapAgent</l><l>add</l><block s="reportNewList"><list><l>1</l><l>2</l></list></block><l>3</l></custom-block></script><script x="35.61538461538473" y="254.0256410256411"><custom-block s="üí¨request %s action %s args %l timeout %s s"><l>PyDemoAgent</l><l>add</l><block s="reportNewList"><list><l>1</l><l>1</l></list></block><l>3</l></custom-block></script><script x="34.99999999999997" y="310.29487179487194"><custom-block s="üí¨broadcast %s %l"><l>echo</l><block s="reportNewList"><list><l>hi</l></list></block></custom-block></script><script x="37.99999999999997" y="395.46153846153857"><custom-block s="üí¨broadcast %s %l"><l>help</l><l/></custom-block><block s="doWait"><l>1</l></block><block s="bubble"><custom-block s="üí¨availableActions"></custom-block></block></script><script x="34.00000000000014" y="147.5897435897437"><custom-block s="üí¨request %s action %s args %l timeout %s s"><l>SnapAgent</l><l>echo</l><block s="reportNewList"><list><l>hi</l></list></block><l>3</l></custom-block></script></scripts></sprite><watcher var="_dynatalkCurrentMessage" style="normal" x="14.678899082565643" y="281.9816543119257" color="243,118,29" hidden="true"/><watcher var="_dynatalkLogs" style="normal" x="0" y="0" color="243,118,29" hidden="true"/><watcher var="_dynatalkMQTTHost" style="normal" x="14.678899082565643" y="321.68807045871637" color="243,118,29" hidden="true"/><watcher var="_dynatalkFakePromises" style="normal" x="267.3773117809824" y="255.76099948152805" color="243,118,29" hidden="true"/><watcher var="_dynatalkAvailableActions" style="normal" x="13.29639889196613" y="13.2963988919668" color="243,118,29" hidden="true"/><watcher var="_dynatalkIncomingMessages" style="normal" x="11.940298507462645" y="11.940298507462682" color="243,118,29" hidden="true"/></sprites></stage><variables><variable name="_dynatalkLogs" hidden="true"><list struct="atomic" id="1571"></list></variable><variable name="_dynatalkCurrentMessage" hidden="true"><list id="1572"><item><list id="1573"><item><l>meta</l></item><item><list id="1574"><item><list struct="atomic" id="1575">id,SnapAgent-4552571</list></item><item><list struct="atomic" id="1576">parent_id,SnapAgent-30478866</list></item></list></item></list></item><item><list struct="atomic" id="1577">from,SnapAgent</list></item><item><list struct="atomic" id="1578">to,SnapAgent</list></item><item><list id="1579"><item><l>action</l></item><item><list id="1580"><item><list struct="atomic" id="1581">name,[response]</list></item><item><list id="1582"><item><l>args</l></item><item><list id="1583"><item><list struct="atomic" id="1584">value,3</list></item></list></item></list></item></list></item></list></item></list></variable><variable name="_dynatalkFakePromises" hidden="true"><list id="1585"><item><list struct="atomic" id="1586">SnapAgent-1898758,[response],hi</list></item><item><list struct="atomic" id="1587">SnapAgent-59441481,[response],hi</list></item><item><list struct="atomic" id="1588">SnapAgent-75350208,[response],3</list></item><item><list struct="atomic" id="1589">SnapAgent-83376256,[response],hi</list></item><item><list struct="atomic" id="1590">SnapAgent-30478866,[response],3</list></item></list></variable><variable name="_dynatalkMQTTHost" hidden="true"><l>wss://mqtt.aimaker.space:8084/mqtt</l></variable><variable name="_dynatalkAvailableActions" hidden="true"><list struct="atomic" id="1591"></list></variable><variable name="_dynatalkIncomingMessages" hidden="true"><list struct="atomic" id="1592">&quot;{&#xD;    &quot;&quot;meta&quot;&quot;: {&#xD;        &quot;&quot;id&quot;&quot;: &quot;&quot;SnapAgent-1898758&quot;&quot;&#xD;    },&#xD;    &quot;&quot;from&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;to&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;action&quot;&quot;: {&#xD;        &quot;&quot;name&quot;&quot;: &quot;&quot;echo&quot;&quot;,&#xD;        &quot;&quot;args&quot;&quot;: [&#xD;            &quot;&quot;hi&quot;&quot;&#xD;        ]&#xD;    }&#xD;}&quot;,&quot;{&#xD;    &quot;&quot;meta&quot;&quot;: {&#xD;        &quot;&quot;id&quot;&quot;: &quot;&quot;SnapAgent-32451220&quot;&quot;,&#xD;        &quot;&quot;parent_id&quot;&quot;: &quot;&quot;SnapAgent-1898758&quot;&quot;&#xD;    },&#xD;    &quot;&quot;from&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;to&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;action&quot;&quot;: {&#xD;        &quot;&quot;name&quot;&quot;: &quot;&quot;[response]&quot;&quot;,&#xD;        &quot;&quot;args&quot;&quot;: {&#xD;            &quot;&quot;value&quot;&quot;: &quot;&quot;hi&quot;&quot;&#xD;        }&#xD;    }&#xD;}&quot;,&quot;{&#xD;    &quot;&quot;meta&quot;&quot;: {&#xD;        &quot;&quot;id&quot;&quot;: &quot;&quot;SnapAgent-59441481&quot;&quot;&#xD;    },&#xD;    &quot;&quot;from&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;to&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;action&quot;&quot;: {&#xD;        &quot;&quot;name&quot;&quot;: &quot;&quot;echo&quot;&quot;,&#xD;        &quot;&quot;args&quot;&quot;: [&#xD;            &quot;&quot;hi&quot;&quot;&#xD;        ]&#xD;    }&#xD;}&quot;,&quot;{&#xD;    &quot;&quot;meta&quot;&quot;: {&#xD;        &quot;&quot;id&quot;&quot;: &quot;&quot;SnapAgent-15180277&quot;&quot;,&#xD;        &quot;&quot;parent_id&quot;&quot;: &quot;&quot;SnapAgent-59441481&quot;&quot;&#xD;    },&#xD;    &quot;&quot;from&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;to&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;action&quot;&quot;: {&#xD;        &quot;&quot;name&quot;&quot;: &quot;&quot;[response]&quot;&quot;,&#xD;        &quot;&quot;args&quot;&quot;: {&#xD;            &quot;&quot;value&quot;&quot;: &quot;&quot;hi&quot;&quot;&#xD;        }&#xD;    }&#xD;}&quot;,&quot;{&#xD;    &quot;&quot;meta&quot;&quot;: {&#xD;        &quot;&quot;id&quot;&quot;: &quot;&quot;SnapAgent-75350208&quot;&quot;&#xD;    },&#xD;    &quot;&quot;from&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;to&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;action&quot;&quot;: {&#xD;        &quot;&quot;name&quot;&quot;: &quot;&quot;add&quot;&quot;,&#xD;        &quot;&quot;args&quot;&quot;: [&#xD;            1,&#xD;            2&#xD;        ]&#xD;    }&#xD;}&quot;,&quot;{&#xD;    &quot;&quot;meta&quot;&quot;: {&#xD;        &quot;&quot;id&quot;&quot;: &quot;&quot;SnapAgent-18385003&quot;&quot;,&#xD;        &quot;&quot;parent_id&quot;&quot;: &quot;&quot;SnapAgent-75350208&quot;&quot;&#xD;    },&#xD;    &quot;&quot;from&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;to&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;action&quot;&quot;: {&#xD;        &quot;&quot;name&quot;&quot;: &quot;&quot;[response]&quot;&quot;,&#xD;        &quot;&quot;args&quot;&quot;: {&#xD;            &quot;&quot;value&quot;&quot;: 3&#xD;        }&#xD;    }&#xD;}&quot;,&quot;{&#xD;    &quot;&quot;meta&quot;&quot;: {&#xD;        &quot;&quot;id&quot;&quot;: &quot;&quot;SnapAgent-83376256&quot;&quot;&#xD;    },&#xD;    &quot;&quot;from&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;to&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;action&quot;&quot;: {&#xD;        &quot;&quot;name&quot;&quot;: &quot;&quot;echo&quot;&quot;,&#xD;        &quot;&quot;args&quot;&quot;: [&#xD;            &quot;&quot;hi&quot;&quot;&#xD;        ]&#xD;    }&#xD;}&quot;,&quot;{&#xD;    &quot;&quot;meta&quot;&quot;: {&#xD;        &quot;&quot;id&quot;&quot;: &quot;&quot;SnapAgent-3599453&quot;&quot;,&#xD;        &quot;&quot;parent_id&quot;&quot;: &quot;&quot;SnapAgent-83376256&quot;&quot;&#xD;    },&#xD;    &quot;&quot;from&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;to&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;action&quot;&quot;: {&#xD;        &quot;&quot;name&quot;&quot;: &quot;&quot;[response]&quot;&quot;,&#xD;        &quot;&quot;args&quot;&quot;: {&#xD;            &quot;&quot;value&quot;&quot;: &quot;&quot;hi&quot;&quot;&#xD;        }&#xD;    }&#xD;}&quot;,&quot;{&#xD;    &quot;&quot;meta&quot;&quot;: {&#xD;        &quot;&quot;id&quot;&quot;: &quot;&quot;SnapAgent-30478866&quot;&quot;&#xD;    },&#xD;    &quot;&quot;from&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;to&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;action&quot;&quot;: {&#xD;        &quot;&quot;name&quot;&quot;: &quot;&quot;add&quot;&quot;,&#xD;        &quot;&quot;args&quot;&quot;: [&#xD;            1,&#xD;            2&#xD;        ]&#xD;    }&#xD;}&quot;,&quot;{&#xD;    &quot;&quot;meta&quot;&quot;: {&#xD;        &quot;&quot;id&quot;&quot;: &quot;&quot;SnapAgent-4552571&quot;&quot;,&#xD;        &quot;&quot;parent_id&quot;&quot;: &quot;&quot;SnapAgent-30478866&quot;&quot;&#xD;    },&#xD;    &quot;&quot;from&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;to&quot;&quot;: &quot;&quot;SnapAgent&quot;&quot;,&#xD;    &quot;&quot;action&quot;&quot;: {&#xD;        &quot;&quot;name&quot;&quot;: &quot;&quot;[response]&quot;&quot;,&#xD;        &quot;&quot;args&quot;&quot;: {&#xD;            &quot;&quot;value&quot;&quot;: 3&#xD;        }&#xD;    }&#xD;}&quot;</list></variable></variables></scene></scenes></project>