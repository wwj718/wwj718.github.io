<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Bringing GPT-4o to Snap! - 夜行人</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="种瓜" /><meta name="description" content="Preface I previously wrote an article discussing the AI assistant in Graphical programming environment. The experiment at that time showed some interesting possibilities, but it was not very practical. With the release of GPT-4o, especially the improvement of multimodal capabilities (audio stream and video stream APIs will be released soon), the AI assistant (or tutor) in graphical programming environment has become truly attractive: you can communicate with it through conversation," /><meta name="keywords" content="education, programming, Technology" />






<meta name="generator" content="Hugo 0.96.0 with theme even" />


<link rel="canonical" href="http://wwj718.github.io/post/programming/snap-gpt-4o-en/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.69e0bbe2419d9b0efbdcc1d3b4338bba03a6f6789ae2832bc1af58e5b2757470.css" rel="stylesheet">
<link rel="stylesheet" href="/post/img/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Bringing GPT-4o to Snap!" />
<meta property="og:description" content="Preface I previously wrote an article discussing the AI assistant in Graphical programming environment. The experiment at that time showed some interesting possibilities, but it was not very practical. With the release of GPT-4o, especially the improvement of multimodal capabilities (audio stream and video stream APIs will be released soon), the AI assistant (or tutor) in graphical programming environment has become truly attractive: you can communicate with it through conversation," />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://wwj718.github.io/post/programming/snap-gpt-4o-en/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2024-05-28T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-05-28T00:00:00+00:00" />

<meta itemprop="name" content="Bringing GPT-4o to Snap!">
<meta itemprop="description" content="Preface I previously wrote an article discussing the AI assistant in Graphical programming environment. The experiment at that time showed some interesting possibilities, but it was not very practical. With the release of GPT-4o, especially the improvement of multimodal capabilities (audio stream and video stream APIs will be released soon), the AI assistant (or tutor) in graphical programming environment has become truly attractive: you can communicate with it through conversation,"><meta itemprop="datePublished" content="2024-05-28T00:00:00+00:00" />
<meta itemprop="dateModified" content="2024-05-28T00:00:00+00:00" />
<meta itemprop="wordCount" content="916">
<meta itemprop="keywords" content="Snap," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Bringing GPT-4o to Snap!"/>
<meta name="twitter:description" content="Preface I previously wrote an article discussing the AI assistant in Graphical programming environment. The experiment at that time showed some interesting possibilities, but it was not very practical. With the release of GPT-4o, especially the improvement of multimodal capabilities (audio stream and video stream APIs will be released soon), the AI assistant (or tutor) in graphical programming environment has become truly attractive: you can communicate with it through conversation,"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">夜行人</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/post/%E9%9A%8F%E7%AC%94/aboutme/">
        <li class="mobile-menu-item">About-Me</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">夜行人</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/%E9%9A%8F%E7%AC%94/aboutme/">About-Me</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Bringing GPT-4o to Snap!</h1>

      <div class="post-meta">
        <span class="post-time"> 2024-05-28 </span>
        <div class="post-category">
            <a href="/categories/snap/"> Snap </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#preface">Preface</a></li>
    <li><a href="#bringing-gpt-4o-to-snap">Bringing GPT-4o to Snap!</a>
      <ul>
        <li><a href="#demos">Demos</a>
          <ul>
            <li><a href="#description-of-the-cameras-content">Description of the camera&rsquo;s content</a></li>
            <li><a href="#generate-image">Generate Image</a></li>
            <li><a href="#chat-interface">Chat interface</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#ai-assistant">AI Assistant</a>
      <ul>
        <li><a href="#video-demonstration">Video demonstration</a></li>
      </ul>
    </li>
    <li><a href="#faq">FAQ</a>
      <ul>
        <li><a href="#how-to-improve-the-lisp-code-generation-capability-of-gpt-4o">How to improve the lisp code generation capability of GPT-4o?</a></li>
        <li><a href="#what-to-do-next">What to do next?</a></li>
        <li><a href="#how-did-you-build-the-gpt-4o-library">How did you build the GPT-4o library?</a></li>
      </ul>
    </li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p><img src="/post/img/snap-GPT-4o-04.png" alt=""></p>
<h1 id="preface">Preface</h1>
<p>I previously wrote an article discussing <a href="https://wwj718.github.io/post/%E7%BC%96%E7%A8%8B/snap-ai-assistant/">the AI assistant in Graphical programming environment</a>. The experiment at that time showed some interesting possibilities, but it was not very practical. With <a href="https://openai.com/index/hello-gpt-4o/">the release of GPT-4o</a>, especially the improvement of multimodal capabilities (audio stream and video stream APIs will be released soon), the AI assistant (or tutor) in graphical programming environment has become truly attractive: you can communicate with it through conversation, it can see in real time what you are doing, understand your difficulties, and provide advice or guidance.</p>
<p>Snap! (Snap! v10 is coming soon) has great improvements recently. In particular, the release of <code>lisp code</code> functionality (blocks and code are isomorphic), making Snap! can deeply collaborate with AI.</p>
<h1 id="bringing-gpt-4o-to-snap">Bringing GPT-4o to Snap!</h1>
<p>With the <a href="https://wwj718.github.io/post/%E7%BC%96%E7%A8%8B/snap-javascript-function/">JavaScript function</a> of Snap!, we can bring all the capabilities of GPT-4o into Snap! without making any changes to the Snap! source code!</p>
<p>I have packaged the functionality of GPT-4o into a Snap! library:</p>
<p><img src="/post/img/snap-GPT-4o-01.png" alt=""></p>
<p>The most commonly used block is <code>stream chat completions</code>, which streams GPT-4o&rsquo;s response, very similar to your experience using the <a href="https://chatgpt.com">ChatGPT app</a>.</p>
<img width=500 src="/post/img/snap-GPT-4o-02.png" />
<p>The parameters of this block are as follows:</p>
<ul>
<li><code>text</code>: prompt</li>
<li><code>vision</code>: Send the snapshot of a area in Snap! to GPT-4o service. You can let GPT-4o see any of the following content:
<ul>
<li>IDE: The entire page</li>
<li>Stage</li>
<li>Camera</li>
<li>Scripting Area (not yet implemented)</li>
<li>Palette(not yet implemented)</li>
<li>None: without image, text conversation only</li>
</ul>
</li>
<li><code>callback</code>: callback function. Whenever GPT-4o &lsquo;stream&rsquo; the completion as it&rsquo;s being generated, this callback function will be called, usually it is <code>say</code> block or <code>set variable</code> block</li>
<li><code>temporary</code>: a switch to control whether it is a temporary conversation. If it is not a temporary conversation, the content of the conversation will be stored in the <code>messages</code> variable. Use <code>clear messages</code> blocks to clear <code>messages</code> variable.</li>
</ul>
<h2 id="demos">Demos</h2>
<h3 id="description-of-the-cameras-content">Description of the camera&rsquo;s content</h3>
<p>In <a href="https://snap.codelab.club/snap.html#open:https://wwj718.github.io/post/img/Snap-GPT-4o-v1-demo1.xml&amp;enableJS">this simple example (click to run)</a>, GPT-4o will describe what it sees from the camera,</p>
<p><img src="/post/img/snap-GPT-4o-03.png" alt=""></p>
<p>Before running, you need to fill in the <strong>API key</strong> in the block. To get the API key, you need to have an openai account (currently only PRO users can use the GPT-4o API, this may change in the future), and then apply for the API key through <a href="https://platform.openai.com/api-keys">this link</a>.</p>
<h3 id="generate-image">Generate Image</h3>
<p>Generate an image from text and use it as the sprite&rsquo;s costume:</p>
<p><img src="/post/img/snap-GPT-4o-05.png" alt=""></p>
<p><a href="https://snap.codelab.club/snap.html#open:https://wwj718.github.io/post/img/Snap-GPT-4o-v1-image.xml&amp;enableJS">Sample Project (Click to Run)</a></p>
<h3 id="chat-interface">Chat interface</h3>
<p>You can use the menu library of Snap! to build a chat interface:</p>
<p><img src="/post/img/snap-GPT-4o-06.png" alt=""></p>
<p><a href="https://snap.codelab.club/snap.html#open:https://wwj718.github.io/post/img/Snap-GPT-4o-v1-SnapChat.xml&amp;enableJS">Sample Project (Click to Run)</a></p>
<p><a href="https://snap.codelab.club/snap.html#open:https://wwj718.github.io/post/img/Snap-GPT-4o-v1-SnapChat-2.xml&amp;enableJS">More complete example</a>:</p>
<p><video width=100% src="/post/img/snap-GPT-4o-07.mp4" controls="controls"></video></p>
<h1 id="ai-assistant">AI Assistant</h1>
<p>I have built an AI assistant as a normal Snap! sprite. The AI assistant is just a normal sprite that uses the GPT-40 library. As a user(you may be a student or a teacher), you can freely modify it to implement the prototype in your mind.</p>
<p>I prefer working in the &ldquo;user environment&rdquo;(IDE) of Snap! rather than working in the source code. It has better liveness, not only higher efficiency but also more enjoyable.</p>
<p>I would like to share some experiments with this project: <a href="https://snap.codelab.club/snap.html#open:https://wwj718.github.io/post/img/Snap-GPT-4o-v1-AI-Assistant.xml&amp;enableJS">AI Assistant (click to run)</a></p>
<p>Before running the project, you first need to switch to the AI Assistant sprite and fill in the API key.</p>
<h2 id="video-demonstration">Video demonstration</h2>
<p>This <a href="https://www.bilibili.com/video/BV1qw4m1D7Jq/">demo video</a> introduces more content. If you are interested in the AI Assistant project, it is recommended to watch the video.</p>
<p>Here are a few short video demonstrations showcasing the capabilities of the AI Assistant:</p>
<p>Explain the task on the page to the user (visually see the current task):</p>
<p><video width=100% src="/post/img/gpt4o-explanation-task.mp4" controls="controls"></video></p>
<p>When the user feel confused, see the user&rsquo;s dilemma (share the same perspective with the user), and give appropriate advice</p>
<p><video width=100% src="/post/img/gpt4o-users-confused.mp4" controls="controls"></video></p>
<p>Explain the answer and provide blocks:</p>
<p><video width=100% src="/post/img/gpt4o-generate-solution.mp4" controls="controls"></video></p>
<p>I tried to test the capabilities of GPT-4o in the following examples:</p>
<p>Based on the given blocks and an example demonstrating the syntax of lisp code, GPT-4o completed the task:</p>
<p><video width=100% src="/post/img/gpt4o-draw-curve.mp4" controls="controls"></video></p>
<p>GPT-4o&rsquo;s visual ability helped correct the error in my task description (inner diameter mistakenly written as outer diameter), and the <a href="https://research.google/blog/language-models-perform-reasoning-via-chain-of-thought/">Chain of Thought</a> is very useful for enhancing its mathematical ability. the math task come from <a href="https://www.sabrina.dev/p/chatgpt4o-vs-math">Test Driving ChatGPT-4o (Part 2)</a>.</p>
<p>Combining the <a href="https://youtu.be/F8n-0kVzEQc?t=2184">Puzzle function of Snap!</a> with GPT-4o to build a microworld,</p>
<p><video width=100% src="/post/img/gpt4o-puzzle.mp4" controls="controls"></video></p>
<p>Seymour Papert first proposed the idea of microworld in &ldquo;Mindstorms&rdquo; and &ldquo;Lifelong Kindergarten&rdquo; reiterated this important idea. This is a very promising direction, and I currently believe it may be the best direction for AI assistants in graphical programming environment, as it can significantly reduce illusions.</p>
<h1 id="faq">FAQ</h1>
<h2 id="how-to-improve-the-lisp-code-generation-capability-of-gpt-4o">How to improve the lisp code generation capability of GPT-4o?</h2>
<ul>
<li>Provide a formal description of the syntax</li>
<li>Provide enough samples for fine-tuning
<ul>
<li>Write a crawler to crawl all projects from the Snap! community for fine-tuning</li>
</ul>
</li>
</ul>
<h2 id="what-to-do-next">What to do next?</h2>
<p>The version of the GPT-4o library is v1, and there is much work worth continuing to do:</p>
<ul>
<li>embedding for blocks(help text)
<ul>
<li>reference <a href="https://news.squeak.org/2024/05/03/squeak-semantictext/">Squeak-SemanticText</a></li>
</ul>
</li>
<li>Audio stream (openai has not yet released the API)</li>
<li>Video stream (openai has not yet released the API)</li>
</ul>
<h2 id="how-did-you-build-the-gpt-4o-library">How did you build the GPT-4o library?</h2>
<p>Import the <a href="https://github.com/openai/openai-node">OpenAI JavaScript library</a> using <a href="https://wwj718.github.io/post/%E7%BC%96%E7%A8%8B/snap-javascript-function/">JavaScript function</a>.</p>
<p>Every block in the GPT-4o library can be expanded for reading. By reading these custom blocks, you can understand how they are constructed.</p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://news.squeak.org/2024/05/03/squeak-semantictext/">Squeak-SemanticText</a></li>
<li><a href="https://openai.com/index/hello-gpt-4o/">openai: Hello GPT-4o</a></li>
<li><a href="https://cookbook.openai.com/examples/how_to_stream_completions">How to stream completions</a></li>
<li><a href="https://github.com/openai/openai-node">openai-node</a></li>
<li><a href="https://platform.openai.com/playground/chat?lang=node.js&amp;models=gpt-4o">openai playground: gpt-4o</a></li>
<li><a href="https://platform.openai.com/docs/models/gpt-4o">openai Models: GPT-4o</a></li>
<li><a href="https://github.com/Azure/azure-sdk-for-js/blob/main/sdk/openai/openai/README.md#using-an-api-key-from-openai">Azure OpenAI client library for JavaScript/Using an API Key from OpenAI</a></li>
<li><a href="https://www.sabrina.dev/p/chatgpt4o-vs-math">Test Driving ChatGPT-4o (Part 2)</a></li>
<li><a href="https://research.google/blog/language-models-perform-reasoning-via-chain-of-thought/">Chain of Thought</a></li>
<li><a href="https://youtu.be/F8n-0kVzEQc?t=2184">Snap! Puzzle</a></li>
<li><a href="https://www.bilibili.com/video/BV1qw4m1D7Jq/">MicroBlocks 与个人计算分享会 0518 - 图形化编程环境中的 GPT-4o</a></li>
<li><a href="https://wwj718.github.io/post/%E7%BC%96%E7%A8%8B/snap-ai-assistant/">图形化编程中的 AI 助手</a></li>
</ul>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">种瓜</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2024-05-28
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/snap/">Snap</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E8%AF%97%E8%AF%8D/wujiao/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">午觉</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/%E7%BC%96%E7%A8%8B/snap-gpt-4o/">
            <span class="next-text nav-default">Snap! 中的 GPT-4o</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:wuwenjie718@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="mailto:wuwenjie718@gmail.com" class="iconfont icon-out-me" title="out-me"></a>
      <a href="https://github.com/wwj718" class="iconfont icon-github" title="github"></a>
  <a href="http://wwj718.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  
  <span><a target="_blank" href="https://cn.bing.com/search?q=site%3Awwj718.github.io%20%20codelab-adapter">搜索本站</a></span>
  <span class="division">|</span>
  <span><a target="_blank" href="/index.xml">RSS订阅</a></span>
  <span class="division">|</span>
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2013 - 
    2024<span class="heart"><i class="iconfont icon-heart"></i></span><span>种瓜</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="/post/img/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="/post/img/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="/post/img/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.64437849d125a2d603b3e71d6de5225d641a32d17168a58106e0b61852079683.js"></script>

<script id="baidu_analytics">
  var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?18db4b662c04fbd6cc2851d246c51b3f";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>






</body>
</html>
